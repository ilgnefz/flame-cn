<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.45">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/images/favicon.png"><title>组件 | Flame引擎中文文档</title><meta name="description" content="Flame — 基于Flutter的2D游戏引擎">
    <link rel="modulepreload" href="/flame-cn/assets/app.0106d251.js"><link rel="modulepreload" href="/flame-cn/assets/components.html.a28e7017.js"><link rel="modulepreload" href="/flame-cn/assets/component-lifecycle.a6e96cf0.js"><link rel="modulepreload" href="/flame-cn/assets/components.html.c65546d3.js"><link rel="prefetch" href="/flame-cn/assets/index.html.0b8b2f84.js"><link rel="prefetch" href="/flame-cn/assets/started.html.72450817.js"><link rel="prefetch" href="/flame-cn/assets/camera-and-viewport.html.9793f2db.js"><link rel="prefetch" href="/flame-cn/assets/camera-component.html.4666d28e.js"><link rel="prefetch" href="/flame-cn/assets/collision-detection.html.1f170355.js"><link rel="prefetch" href="/flame-cn/assets/effects.html.ab8f2660.js"><link rel="prefetch" href="/flame-cn/assets/file-structure.html.5fead449.js"><link rel="prefetch" href="/flame-cn/assets/game-loop.html.9e961e5f.js"><link rel="prefetch" href="/flame-cn/assets/platforms.html.11f8f099.js"><link rel="prefetch" href="/flame-cn/assets/audio.html.5d6bcada.js"><link rel="prefetch" href="/flame-cn/assets/bgm.html.8d6da2e8.js"><link rel="prefetch" href="/flame-cn/assets/forge2d.html.f15f61a9.js"><link rel="prefetch" href="/flame-cn/assets/oxygen.html.1e2925d2.js"><link rel="prefetch" href="/flame-cn/assets/splash_screen.html.47876a47.js"><link rel="prefetch" href="/flame-cn/assets/tiled.html.1022abd6.js"><link rel="prefetch" href="/flame-cn/assets/bare_flame_game.html.6be6c682.js"><link rel="prefetch" href="/flame-cn/assets/tutorials.html.3cde02b3.js"><link rel="prefetch" href="/flame-cn/assets/debug.html.e3d5c452.js"><link rel="prefetch" href="/flame-cn/assets/util.html.4c65b1ac.js"><link rel="prefetch" href="/flame-cn/assets/widgets.html.136539b7.js"><link rel="prefetch" href="/flame-cn/assets/gesture-input.html.c89bdbf5.js"><link rel="prefetch" href="/flame-cn/assets/keyboard-input.html.f014bac6.js"><link rel="prefetch" href="/flame-cn/assets/other-inputs.html.19f5b9a3.js"><link rel="prefetch" href="/flame-cn/assets/images.html.2cbd5f48.js"><link rel="prefetch" href="/flame-cn/assets/layers.html.c7d85b73.js"><link rel="prefetch" href="/flame-cn/assets/palette.html.2569ba6e.js"><link rel="prefetch" href="/flame-cn/assets/particles.html.fc3cad27.js"><link rel="prefetch" href="/flame-cn/assets/text.html.63780818.js"><link rel="prefetch" href="/flame-cn/assets/klondike.html.b005eae0.js"><link rel="prefetch" href="/flame-cn/assets/step1.html.8e1625d9.js"><link rel="prefetch" href="/flame-cn/assets/step2.html.486534cd.js"><link rel="prefetch" href="/flame-cn/assets/step3.html.04cc74df.js"><link rel="prefetch" href="/flame-cn/assets/tbc.html.da3e674d.js"><link rel="prefetch" href="/flame-cn/assets/404.html.93146c89.js"><link rel="prefetch" href="/flame-cn/assets/index.html.6f0f832c.js"><link rel="prefetch" href="/flame-cn/assets/started.html.0904afb8.js"><link rel="prefetch" href="/flame-cn/assets/camera-and-viewport.html.3a0470d2.js"><link rel="prefetch" href="/flame-cn/assets/camera-component.html.a9ea96f5.js"><link rel="prefetch" href="/flame-cn/assets/collision-detection.html.b64ca33b.js"><link rel="prefetch" href="/flame-cn/assets/effects.html.c9332fae.js"><link rel="prefetch" href="/flame-cn/assets/file-structure.html.c436f1c4.js"><link rel="prefetch" href="/flame-cn/assets/game-loop.html.af706cf9.js"><link rel="prefetch" href="/flame-cn/assets/platforms.html.fd66119b.js"><link rel="prefetch" href="/flame-cn/assets/audio.html.f5f444b1.js"><link rel="prefetch" href="/flame-cn/assets/bgm.html.12341541.js"><link rel="prefetch" href="/flame-cn/assets/forge2d.html.4a8de694.js"><link rel="prefetch" href="/flame-cn/assets/oxygen.html.9ffad74c.js"><link rel="prefetch" href="/flame-cn/assets/splash_screen.html.3e334b75.js"><link rel="prefetch" href="/flame-cn/assets/tiled.html.47e90b23.js"><link rel="prefetch" href="/flame-cn/assets/bare_flame_game.html.76f2db98.js"><link rel="prefetch" href="/flame-cn/assets/tutorials.html.094bc70d.js"><link rel="prefetch" href="/flame-cn/assets/debug.html.0f927191.js"><link rel="prefetch" href="/flame-cn/assets/util.html.ce032317.js"><link rel="prefetch" href="/flame-cn/assets/widgets.html.fece8b09.js"><link rel="prefetch" href="/flame-cn/assets/gesture-input.html.cece48bc.js"><link rel="prefetch" href="/flame-cn/assets/keyboard-input.html.382c903f.js"><link rel="prefetch" href="/flame-cn/assets/other-inputs.html.6c41c178.js"><link rel="prefetch" href="/flame-cn/assets/images.html.c0984851.js"><link rel="prefetch" href="/flame-cn/assets/layers.html.ea02fc00.js"><link rel="prefetch" href="/flame-cn/assets/palette.html.181a7977.js"><link rel="prefetch" href="/flame-cn/assets/particles.html.46c410d6.js"><link rel="prefetch" href="/flame-cn/assets/text.html.0b6b1a96.js"><link rel="prefetch" href="/flame-cn/assets/klondike.html.e15dd0af.js"><link rel="prefetch" href="/flame-cn/assets/step1.html.08ef7cc1.js"><link rel="prefetch" href="/flame-cn/assets/step2.html.df492ce8.js"><link rel="prefetch" href="/flame-cn/assets/step3.html.8ce715d1.js"><link rel="prefetch" href="/flame-cn/assets/tbc.html.56f3f759.js"><link rel="prefetch" href="/flame-cn/assets/404.html.7de699ec.js"><link rel="prefetch" href="/flame-cn/assets/404.ec64c5cb.js"><link rel="prefetch" href="/flame-cn/assets/Layout.a241fed5.js">
    <link rel="stylesheet" href="/flame-cn/assets/style.ff22a552.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/flame-cn/" class=""><img class="logo" src="/flame-cn/images/logo.png" alt="Flame引擎中文文档"><span class="site-name can-hide">Flame引擎中文文档</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a class="external-link" href="https://docs.flame-engine.org/1.1.1/" rel="noopener noreferrer" target="_blank" aria-label="版本 1.1.1"><!--[--><!--]--> 版本 1.1.1 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://flame-engine.org/" rel="noopener noreferrer" target="_blank" aria-label="官网"><!--[--><!--]--> 官网 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://examples.flame-engine.org/" rel="noopener noreferrer" target="_blank" aria-label="示例"><!--[--><!--]--> 示例 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/flame-engine/flame" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="文档仓库"><span class="title">文档仓库</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="文档仓库"><span class="title">文档仓库</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/ilgnefz/flame-cn" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://gitee.com/ilgnefz/flame-cn" rel="noopener noreferrer" target="_blank" aria-label="Gitee"><!--[--><!--]--> Gitee <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a class="external-link" href="https://docs.flame-engine.org/1.1.1/" rel="noopener noreferrer" target="_blank" aria-label="版本 1.1.1"><!--[--><!--]--> 版本 1.1.1 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://flame-engine.org/" rel="noopener noreferrer" target="_blank" aria-label="官网"><!--[--><!--]--> 官网 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://examples.flame-engine.org/" rel="noopener noreferrer" target="_blank" aria-label="示例"><!--[--><!--]--> 示例 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/flame-engine/flame" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="文档仓库"><span class="title">文档仓库</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="文档仓库"><span class="title">文档仓库</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/ilgnefz/flame-cn" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://gitee.com/ilgnefz/flame-cn" rel="noopener noreferrer" target="_blank" aria-label="Gitee"><!--[--><!--]--> Gitee <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/flame-cn/guide/started.md" class="sidebar-item sidebar-heading collapsible" aria-label="开始使用"><!--[--><!--]--> 开始使用 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#关于" class="router-link-active router-link-exact-active sidebar-item" aria-label="关于"><!--[--><!--]--> 关于 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#安装" class="router-link-active router-link-exact-active sidebar-item" aria-label="安装"><!--[--><!--]--> 安装 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#入门" class="router-link-active router-link-exact-active sidebar-item" aria-label="入门"><!--[--><!--]--> 入门 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#其他" class="router-link-active router-link-exact-active sidebar-item" aria-label="其他"><!--[--><!--]--> 其他 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#多人游戏-网络编程" class="router-link-active router-link-exact-active sidebar-item" aria-label="多人游戏（网络编程）"><!--[--><!--]--> 多人游戏（网络编程） <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#外部资源" class="router-link-active router-link-exact-active sidebar-item" aria-label="外部资源"><!--[--><!--]--> 外部资源 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/file-structure.md" class="sidebar-item sidebar-heading active collapsible" aria-label="Flame"><!--[--><!--]--> Flame <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/flame-cn/guide/flame/file-structure.md" class="sidebar-item" aria-label="文件结构"><!--[--><!--]--> 文件结构 <!--[--><!--]--></a><!----></li><li><a href="/flame-cn/guide/flame/game-loop.md" class="sidebar-item collapsible" aria-label="游戏循环"><!--[--><!--]--> 游戏循环 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#生命周期" class="router-link-active router-link-exact-active sidebar-item" aria-label="生命周期"><!--[--><!--]--> 生命周期 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#调试模式" class="router-link-active router-link-exact-active sidebar-item" aria-label="调试模式"><!--[--><!--]--> 调试模式 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#更改背景颜色" class="router-link-active router-link-exact-active sidebar-item" aria-label="更改背景颜色"><!--[--><!--]--> 更改背景颜色 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#singlegameinstance-mixin" class="router-link-active router-link-exact-active sidebar-item" aria-label="SingleGameInstance mixin"><!--[--><!--]--> SingleGameInstance mixin <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#低级游戏api" class="router-link-active router-link-exact-active sidebar-item" aria-label="低级游戏API"><!--[--><!--]--> 低级游戏API <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#game-loop-游戏循环" class="router-link-active router-link-exact-active sidebar-item" aria-label="Game Loop 游戏循环"><!--[--><!--]--> Game Loop 游戏循环 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#游戏执行暂停-恢复" class="router-link-active router-link-exact-active sidebar-item" aria-label="游戏执行暂停/恢复"><!--[--><!--]--> 游戏执行暂停/恢复 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#flutter小部件和game实例" class="router-link-active router-link-exact-active sidebar-item" aria-label="Flutter小部件和Game实例"><!--[--><!--]--> Flutter小部件和Game实例 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/components.md" class="sidebar-item active collapsible" aria-label="组件"><!--[--><!--]--> 组件 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/flame-cn/guide/flame/components.md#组件" class="sidebar-item active" aria-label="组件"><!--[--><!--]--> 组件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#优先权" class="router-link-active router-link-exact-active sidebar-item" aria-label="优先权"><!--[--><!--]--> 优先权 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#可组合性的组件" class="router-link-active router-link-exact-active sidebar-item" aria-label="可组合性的组件"><!--[--><!--]--> 可组合性的组件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#确保组件有一个给定的父组件" class="router-link-active router-link-exact-active sidebar-item" aria-label="确保组件有一个给定的父组件"><!--[--><!--]--> 确保组件有一个给定的父组件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#查询子组件" class="router-link-active router-link-exact-active sidebar-item" aria-label="查询子组件"><!--[--><!--]--> 查询子组件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#在屏幕上的特定点查询组件" class="router-link-active router-link-exact-active sidebar-item" aria-label="在屏幕上的特定点查询组件"><!--[--><!--]--> 在屏幕上的特定点查询组件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#positiontype" class="router-link-active router-link-exact-active sidebar-item" aria-label="PositionType"><!--[--><!--]--> PositionType <!--[--><!--]--></a><!----></li><li><a href="/flame-cn/guide/flame/components.md#positioncomponent" class="sidebar-item active" aria-label="PositionComponent"><!--[--><!--]--> PositionComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#positioncomponent子元素" class="router-link-active router-link-exact-active sidebar-item" aria-label="PositionComponent子元素"><!--[--><!--]--> PositionComponent子元素 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#渲染positioncomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="渲染PositionComponent"><!--[--><!--]--> 渲染PositionComponent <!--[--><!--]--></a><!----></li><li><a href="/flame-cn/guide/flame/components.md#spritecomponent" class="sidebar-item active" aria-label="SpriteComponent"><!--[--><!--]--> SpriteComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#spriteanimationcomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="SpriteAnimationComponent"><!--[--><!--]--> SpriteAnimationComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#spriteanimationgroupcomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="SpriteAnimationGroupComponent"><!--[--><!--]--> SpriteAnimationGroupComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#spritegroupcomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="SpriteGroupComponent"><!--[--><!--]--> SpriteGroupComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#svgcomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="SvgComponent"><!--[--><!--]--> SvgComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#flareactorcomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="FlareActorComponent"><!--[--><!--]--> FlareActorComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#parallaxcomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="ParallaxComponent"><!--[--><!--]--> ParallaxComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#shapecomponents" class="router-link-active router-link-exact-active sidebar-item" aria-label="ShapeComponents"><!--[--><!--]--> ShapeComponents <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#polygoncomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="PolygonComponent"><!--[--><!--]--> PolygonComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#rectanglecomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="RectangleComponent"><!--[--><!--]--> RectangleComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#circlecomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="CircleComponent"><!--[--><!--]--> CircleComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#spritebodycomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="SpriteBodyComponent"><!--[--><!--]--> SpriteBodyComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#tiledcomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="TiledComponent"><!--[--><!--]--> TiledComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#isometrictilemapcomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="IsometricTileMapComponent"><!--[--><!--]--> IsometricTileMapComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#ninetileboxcomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="NineTileBoxComponent"><!--[--><!--]--> NineTileBoxComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#自定义绘制组件" class="router-link-active router-link-exact-active sidebar-item" aria-label="自定义绘制组件"><!--[--><!--]--> 自定义绘制组件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#特效" class="router-link-active router-link-exact-active sidebar-item" aria-label="特效"><!--[--><!--]--> 特效 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/platforms.md" class="sidebar-item collapsible" aria-label="平台"><!--[--><!--]--> 平台 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#flutter通道" class="router-link-active router-link-exact-active sidebar-item" aria-label="Flutter通道"><!--[--><!--]--> Flutter通道 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#flame网页端" class="router-link-active router-link-exact-active sidebar-item" aria-label="Flame网页端"><!--[--><!--]--> Flame网页端 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#部署您的游戏到github-pages" class="router-link-active router-link-exact-active sidebar-item" aria-label="部署您的游戏到Github Pages"><!--[--><!--]--> 部署您的游戏到Github Pages <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#web支持" class="router-link-active router-link-exact-active sidebar-item" aria-label="Web支持"><!--[--><!--]--> Web支持 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/collision-detection.md" class="sidebar-item collapsible" aria-label="碰撞检测"><!--[--><!--]--> 碰撞检测 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#mixins" class="router-link-active router-link-exact-active sidebar-item collapsible" aria-label="Mixins"><!--[--><!--]--> Mixins <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#hascollisiondetection" class="router-link-active router-link-exact-active sidebar-item" aria-label="HasCollisionDetection"><!--[--><!--]--> HasCollisionDetection <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#collisioncallbacks" class="router-link-active router-link-exact-active sidebar-item" aria-label="CollisionCallbacks"><!--[--><!--]--> CollisionCallbacks <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#shapehitbox" class="router-link-active router-link-exact-active sidebar-item collapsible" aria-label="ShapeHitbox"><!--[--><!--]--> ShapeHitbox <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#collisiontype" class="router-link-active router-link-exact-active sidebar-item" aria-label="CollisionType"><!--[--><!--]--> CollisionType <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#polygonhitbox" class="router-link-active router-link-exact-active sidebar-item" aria-label="PolygonHitbox"><!--[--><!--]--> PolygonHitbox <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#rectanglehitbox" class="router-link-active router-link-exact-active sidebar-item" aria-label="RectangleHitbox"><!--[--><!--]--> RectangleHitbox <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#circlehitbox" class="router-link-active router-link-exact-active sidebar-item" aria-label="CircleHitbox"><!--[--><!--]--> CircleHitbox <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#screenhitbox" class="router-link-active router-link-exact-active sidebar-item" aria-label="ScreenHitbox"><!--[--><!--]--> ScreenHitbox <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#compositehitbox" class="router-link-active router-link-exact-active sidebar-item" aria-label="CompositeHitbox"><!--[--><!--]--> CompositeHitbox <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#broadphase" class="router-link-active router-link-exact-active sidebar-item" aria-label="BroadPhase"><!--[--><!--]--> BroadPhase <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#与-forge2d-的比较" class="router-link-active router-link-exact-active sidebar-item" aria-label="与 Forge2D 的比较"><!--[--><!--]--> 与 Forge2D 的比较 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#从-v1.0-中的碰撞侦测系统迁移" class="router-link-active router-link-exact-active sidebar-item collapsible" aria-label="从 v1.0 中的碰撞侦测系统迁移"><!--[--><!--]--> 从 v1.0 中的碰撞侦测系统迁移 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#名称更改" class="router-link-active router-link-exact-active sidebar-item" aria-label="名称更改"><!--[--><!--]--> 名称更改 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/collision-detection.md#示例" class="sidebar-item" aria-label="示例"><!--[--><!--]--> 示例 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/effects.md" class="sidebar-item collapsible" aria-label="特效"><!--[--><!--]--> 特效 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#概述" class="router-link-active router-link-exact-active sidebar-item" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#内置特效" class="router-link-active router-link-exact-active sidebar-item collapsible" aria-label="内置特效"><!--[--><!--]--> 内置特效 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#effect" class="router-link-active router-link-exact-active sidebar-item" aria-label="Effect"><!--[--><!--]--> Effect <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#movebyeffect" class="router-link-active router-link-exact-active sidebar-item" aria-label="MoveByEffect"><!--[--><!--]--> MoveByEffect <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#movetoeffect" class="router-link-active router-link-exact-active sidebar-item" aria-label="MoveToEffect"><!--[--><!--]--> MoveToEffect <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#movealongpatheffect" class="router-link-active router-link-exact-active sidebar-item" aria-label="MoveAlongPathEffect"><!--[--><!--]--> MoveAlongPathEffect <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#rotateeffect-by" class="router-link-active router-link-exact-active sidebar-item" aria-label="RotateEffect.by"><!--[--><!--]--> RotateEffect.by <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#rotateeffect-to" class="router-link-active router-link-exact-active sidebar-item" aria-label="RotateEffect.to"><!--[--><!--]--> RotateEffect.to <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#scaleeffect-by" class="router-link-active router-link-exact-active sidebar-item" aria-label="ScaleEffect.by"><!--[--><!--]--> ScaleEffect.by <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#scaleeffect-to" class="router-link-active router-link-exact-active sidebar-item" aria-label="ScaleEffect.to"><!--[--><!--]--> ScaleEffect.to <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#sizeeffect-by" class="router-link-active router-link-exact-active sidebar-item" aria-label="SizeEffect.by"><!--[--><!--]--> SizeEffect.by <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#sizeeffect-to" class="router-link-active router-link-exact-active sidebar-item" aria-label="SizeEffect.to"><!--[--><!--]--> SizeEffect.to <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#anchorbyeffect" class="router-link-active router-link-exact-active sidebar-item" aria-label="AnchorByEffect"><!--[--><!--]--> AnchorByEffect <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#anchortoeffect" class="router-link-active router-link-exact-active sidebar-item" aria-label="AnchorToEffect"><!--[--><!--]--> AnchorToEffect <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#opacityeffect" class="router-link-active router-link-exact-active sidebar-item" aria-label="OpacityEffect"><!--[--><!--]--> OpacityEffect <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#sequenceeffect" class="router-link-active router-link-exact-active sidebar-item" aria-label="SequenceEffect"><!--[--><!--]--> SequenceEffect <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#removeeffect" class="router-link-active router-link-exact-active sidebar-item" aria-label="RemoveEffect"><!--[--><!--]--> RemoveEffect <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#coloreffect" class="router-link-active router-link-exact-active sidebar-item" aria-label="ColorEffect"><!--[--><!--]--> ColorEffect <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#创建新的特效" class="router-link-active router-link-exact-active sidebar-item" aria-label="创建新的特效"><!--[--><!--]--> 创建新的特效 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#特效控制器" class="router-link-active router-link-exact-active sidebar-item collapsible" aria-label="特效控制器"><!--[--><!--]--> 特效控制器 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#effectcontroller" class="router-link-active router-link-exact-active sidebar-item" aria-label="EffectController"><!--[--><!--]--> EffectController <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#lineareffectcontroller" class="router-link-active router-link-exact-active sidebar-item" aria-label="LinearEffectController"><!--[--><!--]--> LinearEffectController <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#reverselineareffectcontroller" class="router-link-active router-link-exact-active sidebar-item" aria-label="ReverseLinearEffectController"><!--[--><!--]--> ReverseLinearEffectController <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#curvedeffectcontroller" class="router-link-active router-link-exact-active sidebar-item" aria-label="CurvedEffectController"><!--[--><!--]--> CurvedEffectController <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#reversecurvedeffectcontroller" class="router-link-active router-link-exact-active sidebar-item" aria-label="ReverseCurvedEffectController"><!--[--><!--]--> ReverseCurvedEffectController <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#pauseeffectcontroller" class="router-link-active router-link-exact-active sidebar-item" aria-label="PauseEffectController"><!--[--><!--]--> PauseEffectController <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#repeatedeffectcontroller" class="router-link-active router-link-exact-active sidebar-item" aria-label="RepeatedEffectController"><!--[--><!--]--> RepeatedEffectController <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#infiniteeffectcontroller" class="router-link-active router-link-exact-active sidebar-item" aria-label="InfiniteEffectController"><!--[--><!--]--> InfiniteEffectController <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#sequenceeffectcontroller" class="router-link-active router-link-exact-active sidebar-item" aria-label="SequenceEffectController"><!--[--><!--]--> SequenceEffectController <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#speedeffectcontroller" class="router-link-active router-link-exact-active sidebar-item" aria-label="SpeedEffectController"><!--[--><!--]--> SpeedEffectController <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#delayedeffectcontroller" class="router-link-active router-link-exact-active sidebar-item" aria-label="DelayedEffectController"><!--[--><!--]--> DelayedEffectController <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#noiseeffectcontroller" class="router-link-active router-link-exact-active sidebar-item" aria-label="NoiseEffectController"><!--[--><!--]--> NoiseEffectController <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#randomeffectcontroller" class="router-link-active router-link-exact-active sidebar-item" aria-label="RandomEffectController"><!--[--><!--]--> RandomEffectController <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#sineeffectcontroller" class="router-link-active router-link-exact-active sidebar-item" aria-label="SineEffectController"><!--[--><!--]--> SineEffectController <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#zigzageffectcontroller" class="router-link-active router-link-exact-active sidebar-item" aria-label="ZigzagEffectController"><!--[--><!--]--> ZigzagEffectController <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#参考" class="router-link-active router-link-exact-active sidebar-item" aria-label="参考"><!--[--><!--]--> 参考 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/camera-and-viewport.md" class="sidebar-item collapsible" aria-label="摄像机和视口"><!--[--><!--]--> 摄像机和视口 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#视口" class="router-link-active router-link-exact-active sidebar-item" aria-label="视口"><!--[--><!--]--> 视口 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#摄像机" class="router-link-active router-link-exact-active sidebar-item collapsible" aria-label="摄像机"><!--[--><!--]--> 摄像机 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#camera-followvector2" class="router-link-active router-link-exact-active sidebar-item" aria-label="Camera.followVector2"><!--[--><!--]--> Camera.followVector2 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#camera-followcomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="Camera.followComponent"><!--[--><!--]--> Camera.followComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#在游戏类中使用摄像机" class="router-link-active router-link-exact-active sidebar-item" aria-label="在游戏类中使用摄像机"><!--[--><!--]--> 在游戏类中使用摄像机 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/camera-component.md" class="sidebar-item collapsible" aria-label="摄像机组件"><!--[--><!--]--> 摄像机组件 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#world" class="router-link-active router-link-exact-active sidebar-item" aria-label="World"><!--[--><!--]--> World <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#cameracomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="CameraComponent"><!--[--><!--]--> CameraComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#viewport" class="router-link-active router-link-exact-active sidebar-item" aria-label="Viewport"><!--[--><!--]--> Viewport <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#viewfinder" class="router-link-active router-link-exact-active sidebar-item" aria-label="Viewfinder"><!--[--><!--]--> Viewfinder <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#摄像机控制" class="router-link-active router-link-exact-active sidebar-item" aria-label="摄像机控制"><!--[--><!--]--> 摄像机控制 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#与传统camera的比较" class="router-link-active router-link-exact-active sidebar-item" aria-label="与传统Camera的比较"><!--[--><!--]--> 与传统Camera的比较 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/inputs/gesture-input.md" class="sidebar-item collapsible" aria-label="输入"><!--[--><!--]--> 输入 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/flame-cn/guide/flame/inputs/gesture-input.md" class="sidebar-item collapsible" aria-label="手势输入"><!--[--><!--]--> 手势输入 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/flame-cn/guide/flame/inputs/gesture-input.md#介绍" class="sidebar-item" aria-label="介绍"><!--[--><!--]--> 介绍 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#触摸和鼠标检测器" class="router-link-active router-link-exact-active sidebar-item" aria-label="触摸和鼠标检测器"><!--[--><!--]--> 触摸和鼠标检测器 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#pandetector和scaledetector" class="router-link-active router-link-exact-active sidebar-item" aria-label="PanDetector和ScaleDetector"><!--[--><!--]--> PanDetector和ScaleDetector <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#鼠标光标" class="router-link-active router-link-exact-active sidebar-item" aria-label="鼠标光标"><!--[--><!--]--> 鼠标光标 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#事件坐标系系统" class="router-link-active router-link-exact-active sidebar-item collapsible" aria-label="事件坐标系系统"><!--[--><!--]--> 事件坐标系系统 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#global" class="router-link-active router-link-exact-active sidebar-item" aria-label="global"><!--[--><!--]--> global <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#widget" class="router-link-active router-link-exact-active sidebar-item" aria-label="widget"><!--[--><!--]--> widget <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#game" class="router-link-active router-link-exact-active sidebar-item" aria-label="game"><!--[--><!--]--> game <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/inputs/gesture-input.md#示例" class="sidebar-item" aria-label="示例"><!--[--><!--]--> 示例 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#可点击、可拖动和可悬停组件" class="router-link-active router-link-exact-active sidebar-item collapsible" aria-label="可点击、可拖动和可悬停组件"><!--[--><!--]--> 可点击、可拖动和可悬停组件 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#可点击组件" class="router-link-active router-link-exact-active sidebar-item" aria-label="可点击组件"><!--[--><!--]--> 可点击组件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#可拖动组件" class="router-link-active router-link-exact-active sidebar-item" aria-label="可拖动组件"><!--[--><!--]--> 可拖动组件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#可悬停组件" class="router-link-active router-link-exact-active sidebar-item" aria-label="可悬停组件"><!--[--><!--]--> 可悬停组件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#gesturehitboxes" class="router-link-active router-link-exact-active sidebar-item" aria-label="GestureHitboxes"><!--[--><!--]--> GestureHitboxes <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/inputs/keyboard-input.md" class="sidebar-item collapsible" aria-label="键盘输入"><!--[--><!--]--> 键盘输入 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/flame-cn/guide/flame/inputs/keyboard-input.md#介绍" class="sidebar-item collapsible" aria-label="介绍"><!--[--><!--]--> 介绍 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#在游戏关卡中接收键盘事件" class="router-link-active router-link-exact-active sidebar-item" aria-label="在游戏关卡中接收键盘事件"><!--[--><!--]--> 在游戏关卡中接收键盘事件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#在组件级别接收键盘事件" class="router-link-active router-link-exact-active sidebar-item" aria-label="在组件级别接收键盘事件"><!--[--><!--]--> 在组件级别接收键盘事件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#控制焦点" class="router-link-active router-link-exact-active sidebar-item" aria-label="控制焦点"><!--[--><!--]--> 控制焦点 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/inputs/other-inputs.md" class="sidebar-item collapsible" aria-label="其他输入"><!--[--><!--]--> 其他输入 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#操作杆" class="router-link-active router-link-exact-active sidebar-item" aria-label="操作杆"><!--[--><!--]--> 操作杆 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#hudbuttoncomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="HudButtonComponent"><!--[--><!--]--> HudButtonComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#spritebuttoncomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="SpriteButtonComponent"><!--[--><!--]--> SpriteButtonComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#buttoncomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="ButtonComponent"><!--[--><!--]--> ButtonComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#gamepad" class="router-link-active router-link-exact-active sidebar-item" aria-label="Gamepad"><!--[--><!--]--> Gamepad <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/rendering/images.md" class="sidebar-item collapsible" aria-label="渲染"><!--[--><!--]--> 渲染 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/flame-cn/guide/flame/rendering/images.md" class="sidebar-item collapsible" aria-label="图片、精灵图和动画"><!--[--><!--]--> 图片、精灵图和动画 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#载入图片" class="router-link-active router-link-exact-active sidebar-item collapsible" aria-label="载入图片"><!--[--><!--]--> 载入图片 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#单独使用" class="router-link-active router-link-exact-active sidebar-item" aria-label="单独使用"><!--[--><!--]--> 单独使用 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#flame-images" class="router-link-active router-link-exact-active sidebar-item" aria-label="Flame.images"><!--[--><!--]--> Flame.images <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#game-images" class="router-link-active router-link-exact-active sidebar-item" aria-label="Game.images"><!--[--><!--]--> Game.images <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#精灵图" class="router-link-active router-link-exact-active sidebar-item" aria-label="精灵图"><!--[--><!--]--> 精灵图 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#spritebatch" class="router-link-active router-link-exact-active sidebar-item" aria-label="SpriteBatch"><!--[--><!--]--> SpriteBatch <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#imagecomposition" class="router-link-active router-link-exact-active sidebar-item" aria-label="ImageComposition"><!--[--><!--]--> ImageComposition <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#svg" class="router-link-active router-link-exact-active sidebar-item" aria-label="Svg"><!--[--><!--]--> Svg <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#动画" class="router-link-active router-link-exact-active sidebar-item" aria-label="动画"><!--[--><!--]--> 动画 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#flareanimation" class="router-link-active router-link-exact-active sidebar-item" aria-label="FlareAnimation"><!--[--><!--]--> FlareAnimation <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#spritesheet" class="router-link-active router-link-exact-active sidebar-item" aria-label="SpriteSheet"><!--[--><!--]--> SpriteSheet <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/rendering/text.md" class="sidebar-item collapsible" aria-label="文本渲染"><!--[--><!--]--> 文本渲染 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#textrenderer" class="router-link-active router-link-exact-active sidebar-item" aria-label="TextRenderer"><!--[--><!--]--> TextRenderer <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#textpaint" class="router-link-active router-link-exact-active sidebar-item" aria-label="TextPaint"><!--[--><!--]--> TextPaint <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#文本组件" class="router-link-active router-link-exact-active sidebar-item collapsible" aria-label="文本组件"><!--[--><!--]--> 文本组件 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/flame-cn/guide/flame/rendering/text.md#textcomponent" class="sidebar-item" aria-label="TextComponent"><!--[--><!--]--> TextComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#textboxcomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="TextBoxComponent"><!--[--><!--]--> TextBoxComponent <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/rendering/palette.md" class="sidebar-item" aria-label="颜色和调色板"><!--[--><!--]--> 颜色和调色板 <!--[--><!--]--></a><!----></li><li><a href="/flame-cn/guide/flame/rendering/particles.md" class="sidebar-item collapsible" aria-label="粒子"><!--[--><!--]--> 粒子 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#生命周期" class="router-link-active router-link-exact-active sidebar-item" aria-label="生命周期"><!--[--><!--]--> 生命周期 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#内置粒子" class="router-link-active router-link-exact-active sidebar-item" aria-label="内置粒子"><!--[--><!--]--> 内置粒子 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#movingparticle" class="router-link-active router-link-exact-active sidebar-item" aria-label="MovingParticle"><!--[--><!--]--> MovingParticle <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#acceleratedparticle" class="router-link-active router-link-exact-active sidebar-item" aria-label="AcceleratedParticle"><!--[--><!--]--> AcceleratedParticle <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#circleparticle" class="router-link-active router-link-exact-active sidebar-item" aria-label="CircleParticle"><!--[--><!--]--> CircleParticle <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#spriteparticle" class="router-link-active router-link-exact-active sidebar-item" aria-label="SpriteParticle"><!--[--><!--]--> SpriteParticle <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#imageparticle" class="router-link-active router-link-exact-active sidebar-item" aria-label="ImageParticle"><!--[--><!--]--> ImageParticle <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#animationparticle" class="router-link-active router-link-exact-active sidebar-item" aria-label="AnimationParticle"><!--[--><!--]--> AnimationParticle <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#componentparticle" class="router-link-active router-link-exact-active sidebar-item" aria-label="ComponentParticle"><!--[--><!--]--> ComponentParticle <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#flareparticle" class="router-link-active router-link-exact-active sidebar-item" aria-label="FlareParticle"><!--[--><!--]--> FlareParticle <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#computedparticle" class="router-link-active router-link-exact-active sidebar-item" aria-label="ComputedParticle"><!--[--><!--]--> ComputedParticle <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#嵌套行为" class="router-link-active router-link-exact-active sidebar-item" aria-label="嵌套行为"><!--[--><!--]--> 嵌套行为 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/rendering/layers.md" class="sidebar-item collapsible" aria-label="图层"><!--[--><!--]--> 图层 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#dynamiclayer" class="router-link-active router-link-exact-active sidebar-item" aria-label="DynamicLayer"><!--[--><!--]--> DynamicLayer <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#prerenderedlayer" class="router-link-active router-link-exact-active sidebar-item" aria-label="PreRenderedLayer"><!--[--><!--]--> PreRenderedLayer <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#图层处理器" class="router-link-active router-link-exact-active sidebar-item" aria-label="图层处理器"><!--[--><!--]--> 图层处理器 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/other/debug.md" class="sidebar-item collapsible" aria-label="其他"><!--[--><!--]--> 其他 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/flame-cn/guide/flame/other/debug.md" class="sidebar-item collapsible" aria-label="调试"><!--[--><!--]--> 调试 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#帧数" class="router-link-active router-link-exact-active sidebar-item" aria-label="帧数"><!--[--><!--]--> 帧数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#flamegame特性" class="router-link-active router-link-exact-active sidebar-item" aria-label="FlameGame特性"><!--[--><!--]--> FlameGame特性 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/other/util.md" class="sidebar-item collapsible" aria-label="实用工具"><!--[--><!--]--> 实用工具 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#设备类" class="router-link-active router-link-exact-active sidebar-item collapsible" aria-label="设备类"><!--[--><!--]--> 设备类 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#flame-device-fullscreen" class="router-link-active router-link-exact-active sidebar-item" aria-label="Flame.device.fullScreen()"><!--[--><!--]--> Flame.device.fullScreen() <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#flame-device-setlandscape" class="router-link-active router-link-exact-active sidebar-item" aria-label="Flame.device.setLandscape()"><!--[--><!--]--> Flame.device.setLandscape() <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#flame-device-setportrait" class="router-link-active router-link-exact-active sidebar-item" aria-label="Flame.device.setPortrait()"><!--[--><!--]--> Flame.device.setPortrait() <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#flame-device-setorientation-and-flame-device-setorientations" class="router-link-active router-link-exact-active sidebar-item" aria-label="Flame.device.setOrientation() and Flame.device.setOrientations()"><!--[--><!--]--> Flame.device.setOrientation() and Flame.device.setOrientations() <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#定时器" class="router-link-active router-link-exact-active sidebar-item" aria-label="定时器"><!--[--><!--]--> 定时器 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#扩展" class="router-link-active router-link-exact-active sidebar-item collapsible" aria-label="扩展"><!--[--><!--]--> 扩展 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#canvas" class="router-link-active router-link-exact-active sidebar-item" aria-label="Canvas"><!--[--><!--]--> Canvas <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#color" class="router-link-active router-link-exact-active sidebar-item" aria-label="Color"><!--[--><!--]--> Color <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#image" class="router-link-active router-link-exact-active sidebar-item" aria-label="Image"><!--[--><!--]--> Image <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#offset" class="router-link-active router-link-exact-active sidebar-item" aria-label="Offset"><!--[--><!--]--> Offset <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#rect" class="router-link-active router-link-exact-active sidebar-item" aria-label="Rect"><!--[--><!--]--> Rect <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#math-rectangle" class="router-link-active router-link-exact-active sidebar-item" aria-label="math.Rectangle"><!--[--><!--]--> math.Rectangle <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#size" class="router-link-active router-link-exact-active sidebar-item" aria-label="Size"><!--[--><!--]--> Size <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#vector2" class="router-link-active router-link-exact-active sidebar-item" aria-label="Vector2"><!--[--><!--]--> Vector2 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#matrix4" class="router-link-active router-link-exact-active sidebar-item" aria-label="Matrix4"><!--[--><!--]--> Matrix4 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/other/widgets.md" class="sidebar-item collapsible" aria-label="小部件"><!--[--><!--]--> 小部件 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#ninetilebox" class="router-link-active router-link-exact-active sidebar-item" aria-label="NineTileBox"><!--[--><!--]--> NineTileBox <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#spritebutton" class="router-link-active router-link-exact-active sidebar-item" aria-label="SpriteButton"><!--[--><!--]--> SpriteButton <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#spritewidget" class="router-link-active router-link-exact-active sidebar-item" aria-label="SpriteWidget"><!--[--><!--]--> SpriteWidget <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#spriteanimationwidget" class="router-link-active router-link-exact-active sidebar-item" aria-label="SpriteAnimationWidget"><!--[--><!--]--> SpriteAnimationWidget <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame_audio/audio.md" class="sidebar-item sidebar-heading collapsible" aria-label="Flame音频"><!--[--><!--]--> Flame音频 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/flame-cn/guide/flame_audio/audio.md" class="sidebar-item" aria-label="一般音频"><!--[--><!--]--> 一般音频 <!--[--><!--]--></a><!----></li><li><a href="/flame-cn/guide/flame_audio/bgm.md" class="sidebar-item collapsible" aria-label="背景音乐"><!--[--><!--]--> 背景音乐 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#缓存音乐文件" class="router-link-active router-link-exact-active sidebar-item" aria-label="缓存音乐文件"><!--[--><!--]--> 缓存音乐文件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#方法" class="router-link-active router-link-exact-active sidebar-item collapsible" aria-label="方法"><!--[--><!--]--> 方法 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#播放" class="router-link-active router-link-exact-active sidebar-item" aria-label="播放"><!--[--><!--]--> 播放 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#停止" class="router-link-active router-link-exact-active sidebar-item" aria-label="停止"><!--[--><!--]--> 停止 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#暂停和恢复" class="router-link-active router-link-exact-active sidebar-item" aria-label="暂停和恢复"><!--[--><!--]--> 暂停和恢复 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul></li><li><a href="/flame-cn/guide/tutorials/tutorials.md" class="sidebar-item sidebar-heading collapsible" aria-label="教程"><!--[--><!--]--> 教程 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/flame-cn/guide/tutorials/bare_flame_game.md" class="sidebar-item collapsible" aria-label="空白的Flame游戏"><!--[--><!--]--> 空白的Flame游戏 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#_1-检查flutter安装" class="router-link-active router-link-exact-active sidebar-item" aria-label="1. 检查Flutter安装"><!--[--><!--]--> 1. 检查Flutter安装 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#_2-创建项目目录" class="router-link-active router-link-exact-active sidebar-item" aria-label="2. 创建项目目录"><!--[--><!--]--> 2. 创建项目目录 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#_3-初始化空的flutter项目" class="router-link-active router-link-exact-active sidebar-item" aria-label="3. 初始化空的Flutter项目"><!--[--><!--]--> 3. 初始化空的Flutter项目 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#_4-在android-studio中打开项目" class="router-link-active router-link-exact-active sidebar-item" aria-label="4. 在Android Studio中打开项目"><!--[--><!--]--> 4. 在Android Studio中打开项目 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#_5-清理项目文件" class="router-link-active router-link-exact-active sidebar-item" aria-label="5. 清理项目文件"><!--[--><!--]--> 5. 清理项目文件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#_6-运行项目" class="router-link-active router-link-exact-active sidebar-item" aria-label="6. 运行项目"><!--[--><!--]--> 6. 运行项目 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#_7-同步到github" class="router-link-active router-link-exact-active sidebar-item" aria-label="7. 同步到GitHub"><!--[--><!--]--> 7. 同步到GitHub <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#_8-完成" class="router-link-active router-link-exact-active sidebar-item" aria-label="8. 完成"><!--[--><!--]--> 8. 完成 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/flame-cn/guide/tutorials/klondike/klondike.md" class="sidebar-item collapsible" aria-label="Klondike"><!--[--><!--]--> Klondike <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/flame-cn/guide/tutorials/klondike/step1.md" class="sidebar-item collapsible" aria-label="1. 准备"><!--[--><!--]--> 1. 准备 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#规划" class="router-link-active router-link-exact-active sidebar-item" aria-label="规划"><!--[--><!--]--> 规划 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#资源" class="router-link-active router-link-exact-active sidebar-item" aria-label="资源"><!--[--><!--]--> 资源 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/flame-cn/guide/tutorials/klondike/step2.md" class="sidebar-item collapsible" aria-label="2. 脚手架"><!--[--><!--]--> 2. 脚手架 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#klondikegame" class="router-link-active router-link-exact-active sidebar-item" aria-label="KlondikeGame"><!--[--><!--]--> KlondikeGame <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#其他类" class="router-link-active router-link-exact-active sidebar-item" aria-label="其他类"><!--[--><!--]--> 其他类 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#游戏结构" class="router-link-active router-link-exact-active sidebar-item" aria-label="游戏结构"><!--[--><!--]--> 游戏结构 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#代码" class="router-link-active router-link-exact-active sidebar-item" aria-label="代码"><!--[--><!--]--> 代码 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/flame-cn/guide/tutorials/klondike/step3.md" class="sidebar-item collapsible" aria-label="3. 卡片"><!--[--><!--]--> 3. 卡片 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#花色" class="router-link-active router-link-exact-active sidebar-item" aria-label="花色"><!--[--><!--]--> 花色 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#等级" class="router-link-active router-link-exact-active sidebar-item" aria-label="等级"><!--[--><!--]--> 等级 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#卡片组件" class="router-link-active router-link-exact-active sidebar-item collapsible" aria-label="卡片组件"><!--[--><!--]--> 卡片组件 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#渲染" class="router-link-active router-link-exact-active sidebar-item" aria-label="渲染"><!--[--><!--]--> 渲染 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#renderback" class="router-link-active router-link-exact-active sidebar-item" aria-label="renderBack()"><!--[--><!--]--> renderBack() <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#renderfront" class="router-link-active router-link-exact-active sidebar-item" aria-label="renderFront()"><!--[--><!--]--> renderFront() <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#代码" class="router-link-active router-link-exact-active sidebar-item" aria-label="代码"><!--[--><!--]--> 代码 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/flame-cn/guide/tutorials/klondike/tbc.md" class="sidebar-item" aria-label="待续..."><!--[--><!--]--> 待续... <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/flame-cn/guide/other_modules/forge2d.md" class="sidebar-item sidebar-heading collapsible" aria-label="其他模块"><!--[--><!--]--> 其他模块 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/flame-cn/guide/other_modules/forge2d.md" class="sidebar-item collapsible" aria-label="Forge2DGame"><!--[--><!--]--> Forge2DGame <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#forge2dgame" class="router-link-active router-link-exact-active sidebar-item" aria-label="Forge2DGame"><!--[--><!--]--> Forge2DGame <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#bodycomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="BodyComponent"><!--[--><!--]--> BodyComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#联系回调" class="router-link-active router-link-exact-active sidebar-item" aria-label="联系回调"><!--[--><!--]--> 联系回调 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#forge2dcamera-followbodycomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="Forge2DCamera.followBodyComponent"><!--[--><!--]--> Forge2DCamera.followBodyComponent <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/flame-cn/guide/other_modules/oxygen.md" class="sidebar-item collapsible" aria-label="Oxygen"><!--[--><!--]--> Oxygen <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#oxygengame-游戏扩展" class="router-link-active router-link-exact-active sidebar-item" aria-label="OxygenGame (游戏扩展)"><!--[--><!--]--> OxygenGame (游戏扩展) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#系统" class="router-link-active router-link-exact-active sidebar-item collapsible" aria-label="系统"><!--[--><!--]--> 系统 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#mixin-gameref" class="router-link-active router-link-exact-active sidebar-item" aria-label="mixin GameRef"><!--[--><!--]--> mixin GameRef <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#mixin-rendersystem" class="router-link-active router-link-exact-active sidebar-item" aria-label="mixin RenderSystem"><!--[--><!--]--> mixin RenderSystem <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#mixin-updatesystem" class="router-link-active router-link-exact-active sidebar-item" aria-label="mixin UpdateSystem"><!--[--><!--]--> mixin UpdateSystem <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#basesystem" class="router-link-active router-link-exact-active sidebar-item" aria-label="BaseSystem"><!--[--><!--]--> BaseSystem <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#particlesystem" class="router-link-active router-link-exact-active sidebar-item" aria-label="ParticleSystem"><!--[--><!--]--> ParticleSystem <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/flame-cn/guide/other_modules/oxygen.md#组件" class="sidebar-item collapsible" aria-label="组件"><!--[--><!--]--> 组件 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/flame-cn/guide/flame/oxygen.md#positioncomponent" class="sidebar-item" aria-label="PositionComponent"><!--[--><!--]--> PositionComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#sizecomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="SizeComponent"><!--[--><!--]--> SizeComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#anchorcomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="AnchorComponent"><!--[--><!--]--> AnchorComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#anglecomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="AngleComponent"><!--[--><!--]--> AngleComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#flipcomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="FlipComponent"><!--[--><!--]--> FlipComponent <!--[--><!--]--></a><!----></li><li><a href="/flame-cn/guide/flame/oxygen.md#spritecomponent" class="sidebar-item" aria-label="SpriteComponent"><!--[--><!--]--> SpriteComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#textcomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="TextComponent"><!--[--><!--]--> TextComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/flame/components.html#particlecomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="ParticleComponent"><!--[--><!--]--> ParticleComponent <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/flame-cn/guide/other_modules/tiled.md" class="sidebar-item" aria-label="Tiled"><!--[--><!--]--> Tiled <!--[--><!--]--></a><!----></li><li><a href="/flame-cn/guide/other_modules/splash_screen.md" class="sidebar-item" aria-label="闪屏页"><!--[--><!--]--> 闪屏页 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="组件" tabindex="-1"><a class="header-anchor" href="#组件" aria-hidden="true">#</a> 组件</h1><p><img src="/flame-cn/images/component-tree.png" alt="Component tree"></p><p>这张图可能看起来很吓人，但是不要担心，它并不像它看起来那么复杂。</p><h2 id="组件-1" tabindex="-1"><a class="header-anchor" href="#组件-1" aria-hidden="true">#</a> 组件</h2><p>所有组件都从抽象类<code>Component</code>继承。</p><p>如果您想跳过阅读抽象类有关的内容，可以直击跳转到<a href="#positioncomponent">PositionComponent</a>。</p><p>在<code>FlameGame</code>类中，每个<code>Component</code>都有一些您可以选择实现的方法。如果您不使用<code>FlameGame</code>，您依然可以在您自己的游戏循环中使用这些方法。</p><p><img src="/flame-cn/images/component-lifecycle.png" alt="Component Lifecycle Diagram"></p><p>只要调整屏幕大小，就会调用<code>onGameResize</code>方法，一旦在开始时，通过<code>add</code>方法将组件添加到游戏中，也会调用<code>onGameResize</code>方法。</p><p>在组件从游戏中移除之前，可以重写<code>onRemove</code>方法来运行代码，即使组件通过父<code>remove</code>方法和<code>component</code>移除方法被移除，它也只会运行一次。</p><p>可以重写<code>onLoad</code>方法来运行组件的异步初始化代码，例如加载图像。这个方法会在<code>onGameResize</code>之后，<code>onMount</code>之前运行。该方法保证在组件的生命周期内只执行一次，因此可以将其视为异步构造函数。</p><p><code>onMount</code>方法在每次组件被挂载到游戏树时运行。这意味着您不应该在这里初始化<code>late final</code>变量，因为这个方法可能会在组件的生命周期内多次运行。此方法仅在父进程已经挂载的情况下运行。如果父进程还没有挂载，那么这个方法将在一个队列中等待（这对游戏引擎的其他部分没有影响）。</p><p>组件的生命周期状态可以通过一系列getter来检查：</p><ul><li><code>isLoaded</code>：返回当前加载状态的bool值</li><li><code>loaded</code>：返回一个在组件加载完成后的future值</li><li><code>isMounted</code>：返回当前挂载状态的bool值</li><li><code>mounted</code>：返回一个在组件一旦完成挂载后的future值</li></ul><h3 id="优先权" tabindex="-1"><a class="header-anchor" href="#优先权" aria-hidden="true">#</a> 优先权</h3><p>在 Flame 中，顺序组件的呈现(和更新)被称为<code>priority</code>，这在其他语言和框架中有时也被称为<code>z-index</code>。优先级设置得越高，该组件出现在屏幕上的距离就越近，因为它将被渲染在其他优先级较低的组件之上。</p><p>例如，如果添加两个组件，并将其中一个组件的优先级设置为1，那么该组件将呈现在另一个组件之上(如果它们重叠)，因为默认优先级为0。</p><p>所有组件都有一个<code>priority</code>的命名参数。所以，如果在编译时知道组件的优先级，就可以将其传递给构造函数。</p><p>例子：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">MyGame</span> <span class="token keyword">extends</span> <span class="token class-name">FlameGame</span> <span class="token punctuation">{</span>
  <span class="token metadata function">@override</span>
  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span> <span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> myComponent <span class="token operator">=</span> <span class="token class-name">PositionComponent</span><span class="token punctuation">(</span>priority<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">add</span><span class="token punctuation">(</span>myComponent<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>要更新组件的优先级，您必须将其设置为一个新值，如<code>component.priority = 2</code>，它将在下一个时刻更新。</p><p>例子：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token keyword">extends</span> <span class="token class-name">PositionComponent</span> <span class="token keyword">with</span> <span class="token class-name">Tappable</span> <span class="token punctuation">{</span>

  <span class="token class-name">MyComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>priority<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token keyword">void</span> <span class="token function">onTap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    priority <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在上面的例子中，我们首先设置组件的初始化优先级为1，当用户点击组件时，我们将优先级改为2。</p><h3 id="可组合性的组件" tabindex="-1"><a class="header-anchor" href="#可组合性的组件" aria-hidden="true">#</a> 可组合性的组件</h3><p>有时，将其他组件封装到组件中是很有用的。例如，通过层次结构对可视化组件进行分组。您可以通过向任何组件添加子组件来实现这一点，例如<code>PositionComponent</code>。</p><p>当一个组件上有子组件时，每次父组件被更新和呈现，所有的子组件都以相同的条件呈现和更新。</p><p>使用示例，其中两个组件的可见性由包装器处理：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">GameOverPanel</span> <span class="token keyword">extends</span> <span class="token class-name">PositionComponent</span> <span class="token keyword">with</span> <span class="token class-name">HasGameRef</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MyGame</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  bool visible <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">Image</span> spriteImage<span class="token punctuation">;</span>

  <span class="token class-name">GameOverPanel</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>spriteImage<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span> <span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> gameOverText <span class="token operator">=</span> <span class="token class-name">GameOverText</span><span class="token punctuation">(</span>spriteImage<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// GameOverText是一个组件</span>
    <span class="token keyword">final</span> gameOverButton <span class="token operator">=</span> <span class="token class-name">GameOverButton</span><span class="token punctuation">(</span>spriteImage<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// GameOverRestart是一个SpriteComponent</span>

    <span class="token function">add</span><span class="token punctuation">(</span>gameOverText<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">add</span><span class="token punctuation">(</span>gameOverButton<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@override</span>
  <span class="token keyword">void</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token class-name">Canvas</span> canvas<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>visible<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span> <span class="token comment">// 如果不可见，则不会显示任何子元素</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>有两种方法可以将子组件添加到组件中。首先，您有<code>add()</code>、<code>addAll()</code>和<code>addToParent()</code>方法，它们可以在游戏期间的任何时候使用。传统上，子元素是通过组件的<code>onLoad()</code>方法创建和添加的，但在游戏过程中添加新的子元素也很常见。</p><p>第二种方法是在组件的构造函数中使用<code>children:</code>参数。这种方法更类似于标准的Flutter API：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">MyGame</span> <span class="token keyword">extends</span> <span class="token class-name">FlameGame</span> <span class="token punctuation">{</span>
  <span class="token metadata function">@override</span>
  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span> <span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
    <span class="token function">add</span><span class="token punctuation">(</span>
      <span class="token class-name">PositionComponent</span><span class="token punctuation">(</span>
        position<span class="token punctuation">:</span> <span class="token class-name">Vector2</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        children<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token class-name">HighScoreDisplay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token class-name">HitPointsDisplay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token class-name">FpsComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这两种方法可以自由组合：首先添加构造函数中指定的子组件，然后添加任何其他子组件。</p><p>注意，通过这两种方法添加的子对象只保证最终可用：在它们被加载和挂载之后。我们只能保证它们将以与计划添加时相同的顺序出现在子列表中。</p><h3 id="确保组件有一个给定的父组件" tabindex="-1"><a class="header-anchor" href="#确保组件有一个给定的父组件" aria-hidden="true">#</a> 确保组件有一个给定的父组件</h3><p>当组件需要添加到特定的父类型时<code>ParentIsA</code> &#39;mixin可用于强制强类型父类。</p><p>示例：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token keyword">with</span> <span class="token class-name">ParentIsA</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MyParentComponent</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token metadata function">@override</span>
  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span> <span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
    <span class="token comment">// parent is of type MyParentComponent</span>
    <span class="token function">print</span><span class="token punctuation">(</span>parent<span class="token punctuation">.</span>myValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果您试图将<code>MyComponent</code>添加到一个不是<code>MyParentComponent</code>的父组件，将抛出断言错误。</p><h3 id="查询子组件" tabindex="-1"><a class="header-anchor" href="#查询子组件" aria-hidden="true">#</a> 查询子组件</h3><p>已经添加到组件中的子组件存在于名为<code>children</code>的<code>QueryableOrderedSet</code>中。要查询集合中特定类型的组件，可以使用<code>query&lt;T&gt;()</code>函数。默认情况下，<code>strictMode</code>在子节点设置为<code>false</code>，但如果您设置为<code>true</code>，那么在使用查询之前必须注册到<code>children.register</code>。</p><p>示例：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token metadata function">@override</span>
<span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span> <span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
  children<span class="token punctuation">.</span>register<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">PositionComponent</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在上面的示例中，为<code>PositionComponents</code>注册了一个查询，下面是如何查询注册的组件类型的示例：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token metadata function">@override</span>
<span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span>double dt<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">final</span> allPositionComponents <span class="token operator">=</span> children<span class="token punctuation">.</span>query<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">PositionComponent</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="在屏幕上的特定点查询组件" tabindex="-1"><a class="header-anchor" href="#在屏幕上的特定点查询组件" aria-hidden="true">#</a> 在屏幕上的特定点查询组件</h3><p><code>componentsAtPoint()</code>方法允许您检查在屏幕上的某个点上呈现了哪些组件。返回值是一个组件的可迭代对象，但您也可以通过提供一个可写的<code>List&lt;Vector2&gt;</code>作为第二个参数来获得每个组件的局部坐标空间中初始点的坐标。</p><p>可迭代对象按照从前到后的顺序检索组件，即首先检索组件前面的组件，然后再是后面的组件。</p><p>这个方法只能返回实现<code>containsLocalPoint()</code>方法的组件。<code>PositionComponent</code>（这是Flame中许多组件的基类）提供了这样的一个实现。然而，如果您要定义一个派生自<code>Component</code>的自定义类，您就必须自己实现<code>containsLocalPoint()</code>方法。</p><p>这里有一个怎样使用 <code>componentsAtPoint()</code>的例子：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">void</span> <span class="token function">onDragUpdate</span><span class="token punctuation">(</span><span class="token class-name">DragUpdateInfo</span> info<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  game<span class="token punctuation">.</span><span class="token function">componentsAtPoint</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span>widget<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>component<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>component <span class="token operator">is</span> <span class="token class-name">DropTarget</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      component<span class="token punctuation">.</span><span class="token function">highlight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="positiontype" tabindex="-1"><a class="header-anchor" href="#positiontype" aria-hidden="true">#</a> PositionType</h3><p>如果您想创建一个HUD (平视显示器)或其他组件的位置不相关的游戏坐标，您可以更改组件的<code>PositionType</code>。默认的<code>PositionType</code>是<code>PositionType = PositionType.game</code>，可以根据组件的位置更改为<code>PositionType.viewport</code>或<code>PositionType.widget</code>。</p><ul><li><code>PositionType.game</code>：默认值。 遵从摄像机和视口</li><li><code>PositionType.viewport</code>：仅遵从视口 (忽略摄像机).</li><li><code>PositionType.widget</code>：与Flutter游戏部件（即原始画布）的坐标系统相关的位置</li></ul><p>您的大部分组件可能会根据<code>PositionType.game</code>来定位，因为您希望它们遵从摄像机和视口。但是通常情况下，您希望按钮和文本总是显示在屏幕上，不管您是否移动相机，然后您就会想使用 <code>PositionType.viewport</code>。在一些罕见的情况下，当您不希望组件遵从摄像机或视口时，您想使用<code>PositionType.widget</code>来定位您的组件；这可能为了控制器或操纵杆，如果他们必须呆在视口内，将不符合人体工程学的使用。</p><p>请注意，只有当组件直接添加到根<code>FlameGame</code>而不是作为另一个组件的子组件时，才会考虑这种设置。</p><h2 id="positioncomponent" tabindex="-1"><a class="header-anchor" href="#positioncomponent" aria-hidden="true">#</a> PositionComponent</h2><p>这个类代表屏幕上的定位对象，如浮动矩形或旋转精灵。如果向它添加了子组件，它还可以表示一组定位组件。</p><p>基本的<code>PositionComponent</code>有 <code>position</code>、<code>size</code>、 <code>scale</code>、<code>angle</code> 和 <code>anchor</code> ，用来改变组件的呈现方式。</p><h3 id="位置" tabindex="-1"><a class="header-anchor" href="#位置" aria-hidden="true">#</a> 位置</h3><p><code>position</code> 只是一个<code>Vector2</code> ，它表示组件锚点相对于其父组件的位置；如果父组件是一个 <code>FlameGame</code>，那么它就相对于视图端口。</p><h3 id="大小" tabindex="-1"><a class="header-anchor" href="#大小" aria-hidden="true">#</a> 大小</h3><p>当相机的缩放级别为1.0(默认无缩放)时，组件的<code>szie</code>。<code>size</code>与其父组件无关。</p><h3 id="缩放" tabindex="-1"><a class="header-anchor" href="#缩放" aria-hidden="true">#</a> 缩放</h3><p><code>scale</code>是组件及其子组件应该被缩放的程度。由于它是由<code>Vector2</code>表示的，所以可以通过用相同的量来改变<code>x</code>和<code>y</code>，也可以通过用不同的量来改变 <code>x</code> 或 <code>y</code>，从而以一种统一的方式进行缩放。</p><h3 id="角度" tabindex="-1"><a class="header-anchor" href="#角度" aria-hidden="true">#</a> 角度</h3><p><code>angle</code>是锚周围的旋转角度，用双弧度表示。它是相对于父角的。</p><h3 id="锚" tabindex="-1"><a class="header-anchor" href="#锚" aria-hidden="true">#</a> 锚</h3><p><code>anchor</code>是组件上应该定义位置和旋转的位置（默认值是 <code>Anchor.topLeft</code>）。因此，如果您将锚定位置设置为<code>Anchor.center</code>，如果应用了<code>angle</code>，锚将会显示在组件中间，它将围绕着锚定位置旋转，所以在这种情况下，围绕组件的中心旋转。您可以把它看作是组件中的一个点，通过它 <code>Flame</code>可以“抓取”它。</p><h3 id="positioncomponent子元素" tabindex="-1"><a class="header-anchor" href="#positioncomponent子元素" aria-hidden="true">#</a> PositionComponent子元素</h3><p>所有<code>PositionComponent</code>的子元素都将相对于父元素进行转换。这意味着 <code>position</code>、<code>size</code>和 <code>scale</code>的效果将相对于父元素的状态。例如，如果您想把一个子元素的逻辑像素定位在父元素的中心以上，您可以这样做：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span> <span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
  <span class="token keyword">final</span> parent <span class="token operator">=</span> <span class="token class-name">PositionComponent</span><span class="token punctuation">(</span>
    position<span class="token punctuation">:</span> <span class="token class-name">Vector2</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    size<span class="token punctuation">:</span> <span class="token class-name">Vector2</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    anchor<span class="token punctuation">:</span> <span class="token class-name">Anchor</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">final</span> child <span class="token operator">=</span> <span class="token class-name">PositionComponent</span><span class="token punctuation">(</span>position<span class="token punctuation">:</span> <span class="token class-name">Vector2</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> parent<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>请记住，在屏幕上呈现的大多数组件都是<code>PositionComponents</code>，因此这个模式也可以在例如<a href="#spritecomponent">spritcomponent</a>和<a href="#spriteanimationcomponent">SpriteAnimationComponent</a>中使用。</p><h3 id="渲染positioncomponent" tabindex="-1"><a class="header-anchor" href="#渲染positioncomponent" aria-hidden="true">#</a> 渲染PositionComponent</h3><p>当为扩展<code>PositionComponent</code>的组件实现呈现方法时，请记住从左上角(0.0)进行呈现。渲染方法不应该处理组件在屏幕上应该呈现的位置。要处理您的组件应该呈现的位置和方式，可以使用 <code>position</code>, <code>angle</code> 和 <code>anchor</code> 属性，而Flame将自动处理其余部分。</p><p>如果您想知道组件的边界框在屏幕上的什么位置，您可以使用<code>toRect</code>方法。</p><p>如果要更改组件呈现的方向，您可以使用<code>fliphhorizontal()</code>和<code>flipvertical()</code>在锚点周围来翻转任何绘制到画布上的<code>render(Canvas canvas)</code>。这些方法适用于所有<code>PositionComponent</code>对象，尤其适用于<code>SpriteComponent</code>和<code>SpriteAnimationComponent</code>。</p><p>如果您希望在不更改锚点到<code>Anchor.center</code>的情况下绕中心翻转组件，则可以使用 <code>flipHorizontallyAroundCenter()</code>和 <code>flipVerticallyAroundCenter()</code>。</p><h2 id="spritecomponent" tabindex="-1"><a class="header-anchor" href="#spritecomponent" aria-hidden="true">#</a> SpriteComponent</h2><p><code>PositionComponent</code>最常用的实现是<code>SpriteComponent</code>，它可以用一个<code>Sprite</code>创建：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;package:flame/components/component.dart&#39;</span></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">MyGame</span> <span class="token keyword">extends</span> <span class="token class-name">FlameGame</span> <span class="token punctuation">{</span>
  late <span class="token keyword">final</span> <span class="token class-name">SpriteComponent</span> player<span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span> <span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> sprite <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token class-name">Sprite</span><span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;player.png&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> size <span class="token operator">=</span> <span class="token class-name">Vector2</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">128.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> player <span class="token operator">=</span> <span class="token class-name">SpriteComponent</span><span class="token punctuation">(</span>size<span class="token punctuation">:</span> size<span class="token punctuation">,</span> sprite<span class="token punctuation">:</span> sprite<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 屏幕坐标</span>
    player<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token comment">// 默认值为Vector2(0.0, 0.0)，也可以在构造函数中设置</span>
    player<span class="token punctuation">.</span>angle <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token comment">// 默认为0，也可以在构造函数中设置</span>
    <span class="token function">add</span><span class="token punctuation">(</span>player<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 添加组件</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="spriteanimationcomponent" tabindex="-1"><a class="header-anchor" href="#spriteanimationcomponent" aria-hidden="true">#</a> SpriteAnimationComponent</h2><p>此类用于表示在单个循环动画中运行的子精灵图的组件。</p><p>这将使用3个不同的图像创建一个简单的三帧动画：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">final</span> sprites <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">Sprite</span><span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;player_</span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">i</span></span><span class="token string">.png&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">final</span> animation <span class="token operator">=</span> <span class="token class-name">SpriteAnimation</span><span class="token punctuation">.</span><span class="token function">spriteList</span><span class="token punctuation">(</span>
  <span class="token keyword">await</span> <span class="token class-name">Future</span><span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span>sprites<span class="token punctuation">)</span><span class="token punctuation">,</span>
  stepTime<span class="token punctuation">:</span> <span class="token number">0.01</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>player <span class="token operator">=</span> <span class="token class-name">SpriteAnimationComponent</span><span class="token punctuation">(</span>
  animation<span class="token punctuation">:</span> animation<span class="token punctuation">,</span>
  size<span class="token punctuation">:</span> <span class="token class-name">Vector2</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">64.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果您有一个精灵表，您可以使用<code>SpriteAnimationData</code>类的序列构造函数(查看 <a href="/flame-cn/guide/flame/rendering/images.html" class="">Images &gt; Animation</a>的更多细节)：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">final</span> size <span class="token operator">=</span> <span class="token class-name">Vector2</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">64.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">final</span> data <span class="token operator">=</span> <span class="token class-name">SpriteAnimationData</span><span class="token punctuation">.</span><span class="token function">sequenced</span><span class="token punctuation">(</span>
  textureSize<span class="token punctuation">:</span> size<span class="token punctuation">,</span>
  amount<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  stepTime<span class="token punctuation">:</span> <span class="token number">0.1</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>player <span class="token operator">=</span> <span class="token class-name">SpriteAnimationComponent</span><span class="token punctuation">.</span><span class="token function">fromFrameData</span><span class="token punctuation">(</span>
  <span class="token keyword">await</span> images<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;player.png&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  data<span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果您不使用<code>FlameGame</code>，不要忘记这个组件需要更新，因为动画对象需要勾选来移动帧。</p><p>您可以使用 <code>animation.completed</code>来监听动画完成（当它到达最后一帧并且没有循环的时候）。</p><p>示例：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">await</span> animation<span class="token punctuation">.</span>completed<span class="token punctuation">;</span>
<span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 或者</span>

animation<span class="token punctuation">.</span>completed<span class="token punctuation">.</span><span class="token function">whenComplete</span><span class="token punctuation">(</span>doSomething<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="spriteanimationgroupcomponent" tabindex="-1"><a class="header-anchor" href="#spriteanimationgroupcomponent" aria-hidden="true">#</a> SpriteAnimationGroupComponent</h2><p><code>SpriteAnimationGroupComponent</code>是一个围绕<code>SpriteAnimationComponent</code>的简单包装器，它使您的组件能够保存多个动画，并在运行时更改当前播放的动画。</p><p>它的使用非常类似于<code>SpriteAnimationComponent</code>，但不是用单个动画初始化，这个组件接收一个通用类型<code>T</code>的<code>Map</code>作为键，一个<code>SpriteAnimation</code>作为值，以及当前的动画。</p><p>示例：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">enum</span> <span class="token class-name">RobotState</span> <span class="token punctuation">{</span>
  idle<span class="token punctuation">,</span>
  running<span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">final</span> running <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">loadSpriteAnimation</span><span class="token punctuation">(</span><span class="token comment">/* omitted */</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">final</span> idle <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">loadSpriteAnimation</span><span class="token punctuation">(</span><span class="token comment">/* omitted */</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">final</span> robot <span class="token operator">=</span> <span class="token class-name">SpriteAnimationGroupComponent</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RobotState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
  animations<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token class-name">RobotState</span><span class="token punctuation">.</span>running<span class="token punctuation">:</span> running<span class="token punctuation">,</span>
    <span class="token class-name">RobotState</span><span class="token punctuation">.</span>idle<span class="token punctuation">:</span> idle<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  current<span class="token punctuation">:</span> <span class="token class-name">RobotState</span><span class="token punctuation">.</span>idle<span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 将当前动画更改为“运行”</span>
robot<span class="token punctuation">.</span>current <span class="token operator">=</span> <span class="token class-name">RobotState</span><span class="token punctuation">.</span>running<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="spritegroupcomponent" tabindex="-1"><a class="header-anchor" href="#spritegroupcomponent" aria-hidden="true">#</a> SpriteGroupComponent</h2><p><code>SpriteGroupComponent</code>与它对应的动画非常相似，但对于精灵来说尤其如此。</p><p>示例：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">ButtonComponent</span> <span class="token keyword">extends</span> <span class="token class-name">SpriteGroupComponent</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ButtonState</span><span class="token punctuation">&gt;</span></span>
    <span class="token keyword">with</span> <span class="token class-name">HasGameRef</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SpriteGroupExample</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">,</span> <span class="token class-name">Tappable</span> <span class="token punctuation">{</span>
  <span class="token metadata function">@override</span>
  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> <span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> pressedSprite <span class="token operator">=</span> <span class="token keyword">await</span> gameRef<span class="token punctuation">.</span><span class="token function">loadSprite</span><span class="token punctuation">(</span><span class="token comment">/* omitted */</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> unpressedSprite <span class="token operator">=</span> <span class="token keyword">await</span> gameRef<span class="token punctuation">.</span><span class="token function">loadSprite</span><span class="token punctuation">(</span><span class="token comment">/* omitted */</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    sprites <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token class-name">ButtonState</span><span class="token punctuation">.</span>pressed<span class="token punctuation">:</span> pressedSprite<span class="token punctuation">,</span>
      <span class="token class-name">ButtonState</span><span class="token punctuation">.</span>unpressed<span class="token punctuation">:</span> unpressedSprite<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    current <span class="token operator">=</span> <span class="token class-name">ButtonState</span><span class="token punctuation">.</span>unpressed<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// Tap方法处理程序...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="svgcomponent" tabindex="-1"><a class="header-anchor" href="#svgcomponent" aria-hidden="true">#</a> SvgComponent</h2><div class="custom-container tip"><p class="custom-container-title">提示</p><p>要想在Flame使用SVG，可以使用<a href="https://github.com/flame-engine/flame_svg" target="_blank" rel="noopener noreferrer">flame_svg<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>包</p></div><p>这个组件使用一个Svg类的实例来表示一个在游戏中呈现Svg的组件：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">final</span> svg <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token class-name">Svg</span><span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;android.svg&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">final</span> android <span class="token operator">=</span> <span class="token class-name">SvgComponent</span><span class="token punctuation">.</span><span class="token function">fromSvg</span><span class="token punctuation">(</span>
  svg<span class="token punctuation">,</span>
  position<span class="token punctuation">:</span> <span class="token class-name">Vector2</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  size<span class="token punctuation">:</span> <span class="token class-name">Vector2</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="flareactorcomponent" tabindex="-1"><a class="header-anchor" href="#flareactorcomponent" aria-hidden="true">#</a> FlareActorComponent</h2><div class="custom-container warning"><p class="custom-container-title">注意</p><p>注意: 以前使用<code>FlareAnimation </code>和<code>FlareComponent </code>的 Flare 集成 API 的实现已经被废弃。</p></div><p>在Flame中使用 Flare，可以使用 <a href="https://github.com/flame-engine/flame_flare" target="_blank" rel="noopener noreferrer"><code>flame_flare</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>包。</p><p>这是在Flame中使用 <a href="https://pub.dev/packages/flare_flutter" target="_blank" rel="noopener noreferrer">flare animation<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>的界面。<code>FlareActorComponent</code>的API与 flare 的<code>FlareActor</code>小部件几乎相同。它接收动画文件名（默认情况下由<code>Flame.bundle</code>加载），它还可以接收一个<code>FlareController</code>，能播放多个动画并且控制节点。</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;package:flame_flare/flame_flare.dart&#39;</span></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">YourFlareController</span> <span class="token keyword">extends</span> <span class="token class-name">FlareControls</span> <span class="token punctuation">{</span>

  late <span class="token class-name">ActorNode</span> rightHandNode<span class="token punctuation">;</span>

  <span class="token keyword">void</span> <span class="token function">initialize</span><span class="token punctuation">(</span><span class="token class-name">FlutterActorArtboard</span> artboard<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">initialize</span><span class="token punctuation">(</span>artboard<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// g获取flare节点</span>
    rightHand <span class="token operator">=</span> artboard<span class="token punctuation">.</span><span class="token function">getNode</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;right_hand&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">final</span> fileName <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&#39;assets/george_washington.flr&#39;</span></span><span class="token punctuation">;</span>
<span class="token keyword">final</span> size <span class="token operator">=</span> <span class="token class-name">Vector2</span><span class="token punctuation">(</span><span class="token number">1776</span><span class="token punctuation">,</span> <span class="token number">1804</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">final</span> controller <span class="token operator">=</span> <span class="token class-name">YourFlareController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">FlareActorComponent</span> flareAnimation <span class="token operator">=</span> <span class="token class-name">FlareActorComponent</span><span class="token punctuation">(</span>
  fileName<span class="token punctuation">,</span>
  controller<span class="token punctuation">:</span> controller<span class="token punctuation">,</span>
  width<span class="token punctuation">:</span> <span class="token number">306</span><span class="token punctuation">,</span>
  height<span class="token punctuation">:</span> <span class="token number">228</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

flareAnimation<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>
flareAnimation<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">240</span><span class="token punctuation">;</span>
<span class="token function">add</span><span class="token punctuation">(</span>flareAnimation<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 播放一个动画</span>
controller<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;rise_up&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 您可以同时播放另一个动画</span>
controller<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;close_door_way_out&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 此外，您可以获得一个flare节点并对其进行修改</span>
controller<span class="token punctuation">.</span>rightHandNode<span class="token punctuation">.</span>rotation <span class="token operator">=</span> math<span class="token punctuation">.</span>pi<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>还可以使用<code>updateAnimation</code>方法更改当前播放的动画。</p><p>有关工作的示例，请在<a href="https://github.com/flame-engine/flame_flare/tree/main/example" target="_blank" rel="noopener noreferrer">flame_flare repository<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>中查看。</p><h2 id="parallaxcomponent" tabindex="-1"><a class="header-anchor" href="#parallaxcomponent" aria-hidden="true">#</a> ParallaxComponent</h2><p>这个组件可以用来渲染带有深度感的背景，方法是在每个图像或动画（<code>ParallaxRenderer</code>）以不同的速度移动的情况下，将几个透明的图像叠加在一起。</p><p>其基本原理是，当您看着地平线移动时，距离近的物体似乎比距离远的物体移动得更快。</p><p>这个组件模拟了这个效果，制造了一个更加真实的背景效果。</p><p>最简单的<code>ParallaxComponent</code>是这样创建的：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token metadata function">@override</span>
<span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span> <span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
  <span class="token keyword">final</span> parallaxComponent <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">loadParallaxComponent</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token class-name">ParallaxImageData</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;bg.png&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">ParallaxImageData</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;trees.png&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">add</span><span class="token punctuation">(</span>parallaxComponent<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>ParallaxComponent</code>也可以通过实现<code>onLoad</code>方法来加载自己：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">MyParallaxComponent</span> <span class="token keyword">extends</span> <span class="token class-name">ParallaxComponent</span> <span class="token keyword">with</span> <span class="token class-name">HasGameRef</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MyGame</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token metadata function">@override</span>
  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span> <span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
    parallax <span class="token operator">=</span> <span class="token keyword">await</span> gameRef<span class="token punctuation">.</span><span class="token function">loadParallax</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token class-name">ParallaxImageData</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;bg.png&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token class-name">ParallaxImageData</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;trees.png&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">MyGame</span> <span class="token keyword">extends</span> <span class="token class-name">FlameGame</span> <span class="token punctuation">{</span>
  <span class="token metadata function">@override</span>
  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span> <span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
    <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">MyParallaxComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这将创建一个静态背景。如果您想要一个移动的视差(这是视差的全部意义) ，您可以用几种不同的方法来实现，这取决于您想要如何为每一层设置细粒度。</p><p>最简单的方法是在加载助手函数中设置命名的可选参数<code>basvelocity</code>和<code>velocityMultiplierDelta</code>。例如，如果您想以更快的速度沿着<code>x</code>轴移动您的背景图像，图像越近：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">final</span> parallaxComponent <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">loadParallaxComponent</span><span class="token punctuation">(</span>
  _dataList<span class="token punctuation">,</span>
  baseVelocity<span class="token punctuation">:</span> <span class="token class-name">Vector2</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  velocityMultiplierDelta<span class="token punctuation">:</span> <span class="token class-name">Vector2</span><span class="token punctuation">(</span><span class="token number">1.8</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>您可以在任何时候设置baseSpeed和layerDelta，例如如果您的角色跳跃或您的游戏加速：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">final</span> parallax <span class="token operator">=</span> parallaxComponent<span class="token punctuation">.</span>parallax<span class="token punctuation">;</span>
parallax<span class="token punctuation">.</span>baseSpeed <span class="token operator">=</span> <span class="token class-name">Vector2</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
parallax<span class="token punctuation">.</span>velocityMultiplierDelta <span class="token operator">=</span> <span class="token class-name">Vector2</span><span class="token punctuation">(</span><span class="token number">2.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>默认情况下，图像左下对齐，沿 x 轴重复，并按比例缩放，以便图像覆盖屏幕的高度。如果您想改变这种行为，例如，如果您不是在做一个侧滚动游戏，您可以设置每个 <code>ParallaxRenderer </code>的<code>repeat</code>、<code>alignment</code>和<code>fill</code>，并将它们添加到 <code>ParallaxLayers </code>中，然后传递到 <code>ParallaxComponent </code>的构造函数中。</p><p>高级例子：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">final</span> images <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token function">loadParallaxImage</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;stars.jpg&#39;</span></span><span class="token punctuation">,</span> repeat<span class="token punctuation">:</span> <span class="token class-name">ImageRepeat</span><span class="token punctuation">.</span>repeat<span class="token punctuation">,</span> alignment<span class="token punctuation">:</span> <span class="token class-name">Alignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span> fill<span class="token punctuation">:</span> <span class="token class-name">LayerFill</span><span class="token punctuation">.</span>width<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">loadParallaxImage</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;planets.jpg&#39;</span></span><span class="token punctuation">,</span> repeat<span class="token punctuation">:</span> <span class="token class-name">ImageRepeat</span><span class="token punctuation">.</span>repeatY<span class="token punctuation">,</span> alignment<span class="token punctuation">:</span> <span class="token class-name">Alignment</span><span class="token punctuation">.</span>bottomLeft<span class="token punctuation">,</span> fill<span class="token punctuation">:</span> <span class="token class-name">LayerFill</span><span class="token punctuation">.</span>none<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">loadParallaxImage</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;dust.jpg&#39;</span></span><span class="token punctuation">,</span> repeat<span class="token punctuation">:</span> <span class="token class-name">ImageRepeat</span><span class="token punctuation">.</span>repeatX<span class="token punctuation">,</span> alignment<span class="token punctuation">:</span> <span class="token class-name">Alignment</span><span class="token punctuation">.</span>topRight<span class="token punctuation">,</span> fill<span class="token punctuation">:</span> <span class="token class-name">LayerFill</span><span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">final</span> layers <span class="token operator">=</span> images<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">ParallaxLayer</span><span class="token punctuation">(</span><span class="token keyword">await</span> image<span class="token punctuation">,</span> velocityMultiplier<span class="token punctuation">:</span> images<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">final</span> parallaxComponent <span class="token operator">=</span> <span class="token class-name">ParallaxComponent</span><span class="token punctuation">.</span><span class="token function">fromParallax</span><span class="token punctuation">(</span>
  <span class="token class-name">Parallax</span><span class="token punctuation">(</span>
    <span class="token keyword">await</span> <span class="token class-name">Future</span><span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span>layers<span class="token punctuation">)</span><span class="token punctuation">,</span>
    baseVelocity<span class="token punctuation">:</span> <span class="token class-name">Vector2</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>此示例中的星星图像将在两个轴上重复绘制，在中心对齐并缩放以填充屏幕宽度</li><li>行星图像将以 y 轴重复，与屏幕左下角对齐且不会缩放</li><li>尘埃图像将在 x 轴重复，对齐到右上角和缩放，以填补屏幕高度</li></ul><p>完成设置<code>ParallaxComponent</code>后，将其添加到游戏中，就像添加任何其他组件一样（<code>game.add(parallaxComponent</code>）。此外，请不要忘记将图像添加到<code>pubspec.yaml</code>文件中，否则它们将不会被找到。</p><p><code>Parallax</code>文件包含了游戏的扩展，它添加了<code>loadParallax</code>、<code>loadParallaxLayer</code>、<code>loadParallaxImage</code>和<code>loadParallaxAnimation</code>，因此它会自动使用游戏的图像缓存而不是全局缓存。对于<code>ParallaxComponent</code>文件也是一样，但它提供了<code>loadParallaxComponent</code>。</p><p>如果您想要一个全屏的<code>ParallaxComponent</code>，只需要忽略<code>size</code>参数，它就会占用游戏的大小，当游戏改变大小或方向时，它也会调整到全屏。</p><p>Flame提供了两种类型的<code>ParallaxRenderer</code>：<code>ParallaxImage</code>和<code>ParallaxAnimation</code>，<code>ParallaxImage</code>是一个静态图像渲染器，而<code>ParallaxAnimation</code>，顾名思义，是一个基于动画和帧的渲染器。也可以通过扩展<code>ParallaxRenderer</code>类来创建自定义渲染器。</p><p>可以在<a href="https://github.com/flame-engine/flame/tree/main/examples/lib/stories/parallax" target="_blank" rel="noopener noreferrer">examples directory<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>找到3个示例实现。</p><h2 id="shapecomponents" tabindex="-1"><a class="header-anchor" href="#shapecomponents" aria-hidden="true">#</a> ShapeComponents</h2><p><code>ShapeComponent</code>是表示可伸缩几何形状的基类。形状有不同的方式来定义它们的外观，但是它们都有一个可以修改的大小和角度，形状定义将相应地缩放或旋转形状。</p><p>这些形状是一种工具，用于以更一般的方式使用几何形状，而不是与碰撞检测系统一起使用，在碰撞检测系统中，您需要使用<a href="/flame-cn/guide/flame/collision-detection.html" class="">ShapeHitboxes</a>。</p><h3 id="polygoncomponent" tabindex="-1"><a class="header-anchor" href="#polygoncomponent" aria-hidden="true">#</a> PolygonComponent</h3><p><code>PolygonComponent</code>是通过在构造函数中给它一个点列表（称为顶点）来创建的。这个列表将被转换成一个具有大小的多边形，它仍然可以被缩放和旋转。</p><p>例如，这将创建一个从(50,50)到(100,100)的正方形，其中心为(75,75) ：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">PolygonComponent</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token class-name">Vector2</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Vector2</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Vector2</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Vector2</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>也可以使用相对顶点列表创建<code>PolygonComponent</code>，这些顶点是根据给定的大小定义的，通常是目标父组件的大小。</p><p>例如，您可以创建一个像这样的菱形多边形：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">PolygonComponent</span><span class="token punctuation">.</span><span class="token function">relative</span><span class="token punctuation">(</span>
    <span class="token punctuation">[</span>
      <span class="token class-name">Vector2</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// Middle of top wall</span>
      <span class="token class-name">Vector2</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// Middle of right wall</span>
      <span class="token class-name">Vector2</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// Middle of bottom wall</span>
      <span class="token class-name">Vector2</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// Middle of left wall</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    size<span class="token punctuation">:</span> <span class="token class-name">Vector2</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>例子中的顶点定义了 x 轴和 y 轴从屏幕中心到边缘的长度的百分比，因此对于我们列表中的第一个项目（<code>Vector2(0.0,1.0)</code>） ，我们将指向框顶壁的中间，因为这里的坐标系是从多边形的中心定义的。</p><p><img src="/flame-cn/images/polygon-shape.png" alt="An example of how to define a polygon shape"></p><p>在图像中，您可以看到由紫色箭头形成的多边形形状如何由红色箭头定义。</p><p>记住以逆时针的方式定义列表（如果在屏幕坐标系统中y轴翻转，则为顺时针）。</p><h3 id="rectanglecomponent" tabindex="-1"><a class="header-anchor" href="#rectanglecomponent" aria-hidden="true">#</a> RectangleComponent</h3><p><code>RectangleComponent</code>的创建方式与<code>PositionComponent</code>非常相似，因为它也有一个边框。</p><p>例如：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">RectangleComponent</span><span class="token punctuation">(</span>
    position<span class="token punctuation">:</span> <span class="token class-name">Vector2</span><span class="token punctuation">(</span><span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token number">15.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    size<span class="token punctuation">:</span> <span class="token class-name">Vector2</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    angle<span class="token punctuation">:</span> pi<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>
    anchor<span class="token punctuation">:</span> <span class="token class-name">Anchor</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>还有一个很好的创建矩形的方法，这个类被称为 <code>Rect</code>，您可以使用 <code>Rectangle.fromRect</code> 创建一个Flame <code>RectangleComponent</code> ，就像设置 <code>PolygonComponent </code>的顶点一样，如果您使用这个构造函数，矩形的大小也会根据 <code>Rect </code>来调整。</p><p>下面将创建一个左上角坐标为(10, 10)，大小为(100, 50)的 <code>RectangleComponent</code>：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">RectangleComponent</span><span class="token punctuation">.</span><span class="token function">fromRect</span><span class="token punctuation">(</span>
    <span class="token class-name">Rect</span><span class="token punctuation">.</span><span class="token function">fromLTWH</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>您也可以通过定义一个与预期父对象大小的关系来创建<code>RectangleComponent</code>，您可以使用默认构造函数从位置、大小和角度来构建您的<code>RectangleComponent</code>。<code>relation</code>是根据父尺寸定义的向量，例如，一个<code>relation</code>是Vector2(0.5, 0.8)，将创建一个其宽度为父元素大小的50%，高度为其高度的80%的矩形。</p><p>在下面的示例中，将创建位于(100, 100)，大小为(25.0，30.0)的矩形：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">RectangleComponent</span><span class="token punctuation">.</span><span class="token function">relative</span><span class="token punctuation">(</span>
    <span class="token class-name">Vector2</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    position<span class="token punctuation">:</span> <span class="token class-name">Vector2</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    size<span class="token punctuation">:</span> <span class="token class-name">Vector2</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>由于正方形是矩形的简化版本，因此也有一个用于创建正方形矩形组件的构造函数，唯一的区别是<code>size</code>参数是<code>double</code>，而不是<code>Vector2</code>。</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">RectangleComponent</span><span class="token punctuation">.</span><span class="token function">square</span><span class="token punctuation">(</span>
    position<span class="token punctuation">:</span> <span class="token class-name">Vector2</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    size<span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="circlecomponent" tabindex="-1"><a class="header-anchor" href="#circlecomponent" aria-hidden="true">#</a> CircleComponent</h3><p>如果您知道您的圆的位置和（或）半径从一开始是多长，您可以使用可选的参数半径和位置来设置它们。</p><p>下面将创建一个<code>CircleComponent</code>，其中心坐标为(100,100) ，半径为5，因此大小为 Vector2(10, 10)。</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">CircleComponent</span><span class="token punctuation">(</span>radius<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> position<span class="token punctuation">:</span> <span class="token class-name">Vector2</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> anchor<span class="token punctuation">:</span> <span class="token class-name">Anchor</span><span class="token punctuation">.</span>center<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>当使用相对构造函数创建<code>CircleComponent</code>时，您可以定义半径与根据大小定义的边界框的最短边相比有多长。</p><p>下面的示例将导致 <code>CircleComponent </code>定义一个半径为40（直径为80）的圆：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">CircleComponent</span><span class="token punctuation">.</span><span class="token function">relative</span><span class="token punctuation">(</span><span class="token number">0.8</span><span class="token punctuation">,</span> size<span class="token punctuation">:</span> <span class="token class-name">Vector2</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="spritebodycomponent" tabindex="-1"><a class="header-anchor" href="#spritebodycomponent" aria-hidden="true">#</a> SpriteBodyComponent</h2><p>请参阅 Forge2D 文档中的 <a href="/flame-cn/guide/other_modules/forge2d.html#spritebodycomponent" class="">SpriteBodyComponent</a></p><h2 id="tiledcomponent" tabindex="-1"><a class="header-anchor" href="#tiledcomponent" aria-hidden="true">#</a> TiledComponent</h2><p>目前我们有一个非常基本的平铺组件实现。这个 API 使用 <a href="https://github.com/flame-engine/tiled.dart" target="_blank" rel="noopener noreferrer">tiled<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 来解析映射文件和呈现可见层。</p><p>如何使用 API 的示例可以在<a href="https://github.com/flame-engine/flame_tiled/tree/main/example" target="_blank" rel="noopener noreferrer">这里<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>找到。</p><h2 id="isometrictilemapcomponent" tabindex="-1"><a class="header-anchor" href="#isometrictilemapcomponent" aria-hidden="true">#</a> IsometricTileMapComponent</h2><p>该组件允许您基于块的笛卡尔矩阵和等距贴图集渲染一个等距贴图。</p><p>一个简单例子：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token comment">// 创建一个tileset，块的id从0开始自动分配</span>
<span class="token comment">// 从左到右，再从上到下</span>
<span class="token keyword">final</span> tilesetImage <span class="token operator">=</span> <span class="token keyword">await</span> images<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;tileset.png&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">final</span> tileset <span class="token operator">=</span> <span class="token class-name">IsometricTileset</span><span class="token punctuation">(</span>tilesetImage<span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 每个元素都是一个块id， -1表示什么都不是</span>
<span class="token keyword">final</span> matrix <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">IsometricTileMapComponent</span><span class="token punctuation">(</span>tileset<span class="token punctuation">,</span> matrix<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>它还提供了转换坐标的方法，这样您就可以处理鼠标点击、悬停、贴图顶部的呈现实体、添加选择器等。</p><p>您还可以指定<code>tileHeight</code>，这是您的平铺中每个长方体的底部和顶部平面之间的垂直距离。基本上，它是长方体最前端边缘的高度；通常它是一半(默认)或四分之一的磁贴大小。在下面的图片中，您可以看到高度用深色调调整：</p><p><img src="/flame-cn/images/tile-height-example.png" alt="An example of how to determine the tileHeight"></p><p>这是一个四分之一长度的地图是什么样子的例子：</p><p><img src="/flame-cn/images/isometric.png" alt="An example of a isometric map with selector"></p><p>Flame 的示例应用程序包含了一个更深入的示例，介绍了如何解析坐标以生成选择器。代码可以在<a href="https://github.com/flame-engine/flame/blob/main/examples/lib/stories/tile_maps/isometric_tile_map.dart" target="_blank" rel="noopener noreferrer">这里<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>找到，在线版可以在<a href="https://examples.flame-engine.org/#/Tile%20Maps_Isometric%20Tile%20Map" target="_blank" rel="noopener noreferrer">这里<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>看到。</p><h2 id="ninetileboxcomponent" tabindex="-1"><a class="header-anchor" href="#ninetileboxcomponent" aria-hidden="true">#</a> NineTileBoxComponent</h2><p>点九磁贴盒是一个使用网格精灵图绘制的矩形。</p><p>网格精灵图是一个3x3的网格和9个方块，代表4个角，4个边和中间。</p><p>角被画在相同的大小，边被拉伸在一边的方向和中间被扩大的两种方式。</p><p>使用这个，您可以得到一个可以很好地扩展到任何大小的框/矩形。这对于制作面板、对话框、边框非常有用。</p><p>查看示例应用程序<a href="https://github.com/flame-engine/flame/blob/main/examples/lib/stories/utils/nine_tile_box.dart" target="_blank" rel="noopener noreferrer">nine_tile_box<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>了解如何使用它的详细信息</p><h2 id="自定义绘制组件" tabindex="-1"><a class="header-anchor" href="#自定义绘制组件" aria-hidden="true">#</a> 自定义绘制组件</h2><p><code>CustomPainter </code>是与 <code>CustomPaint </code>小部件一起使用的 Flutter 类，用于在 Flutter 应用程序中呈现自定义形状。</p><p>Flame 提供了一个组件，可以调用<code>CustomPainterComponent</code> 渲染一个<code>CustomPainter</code> ，它接收一个自定义的<code>painter </code>并在游戏画布上渲染它。</p><p>这可以用来在您的 Flame 游戏和 Flutter 小部件之间共享自定义渲染逻辑。</p><p>查看应用程序<a href="https://github.com/flame-engine/flame/blob/main/examples/lib/stories/widgets/custom_painter_component.dart" target="_blank" rel="noopener noreferrer">custom_painter_component<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>的示例，了解如何使用它的详细信息。</p><h2 id="特效" tabindex="-1"><a class="header-anchor" href="#特效" aria-hidden="true">#</a> 特效</h2><p>Flame提供了一组可以应用于特定类型组件的特效，这些特效可以用于动画组件的一些属性，如位置或尺寸。您可以在<a href="/flame-cn/guide/flame/effects.html" class="">这里</a>查看这些影响的列表。</p><p>运行效果的例子可以在<a href="https://github.com/flame-engine/flame/blob/main/examples/lib/stories/effects" target="_blank" rel="noopener noreferrer">这里<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>找到。</p><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/ilgnefz/flame-cn/edit/master/docs/guide/flame/components.md" rel="noopener noreferrer" target="_blank" aria-label="编辑此页"><!--[--><!--]--> 编辑此页 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">最后更新: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">贡献者: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: ilgnefz@foxmail.com">ilgnefz</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/flame-cn/guide/flame/game-loop.md" class="" aria-label="游戏循环"><!--[--><!--]--> 游戏循环 <!--[--><!--]--></a></span><span class="next"><a href="/flame-cn/guide/flame/platforms.md" class="" aria-label="平台"><!--[--><!--]--> 平台 <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/flame-cn/assets/app.0106d251.js" defer></script>
  </body>
</html>
