<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.45">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/images/favicon.png"><title>卡片 | Flame引擎中文文档</title><meta name="description" content="Flame — 基于Flutter的2D游戏引擎">
    <link rel="modulepreload" href="/flame-cn/assets/app.0106d251.js"><link rel="modulepreload" href="/flame-cn/assets/step3.html.8ce715d1.js"><link rel="modulepreload" href="/flame-cn/assets/step3.html.04cc74df.js"><link rel="prefetch" href="/flame-cn/assets/index.html.0b8b2f84.js"><link rel="prefetch" href="/flame-cn/assets/started.html.72450817.js"><link rel="prefetch" href="/flame-cn/assets/camera-and-viewport.html.9793f2db.js"><link rel="prefetch" href="/flame-cn/assets/camera-component.html.4666d28e.js"><link rel="prefetch" href="/flame-cn/assets/collision-detection.html.1f170355.js"><link rel="prefetch" href="/flame-cn/assets/components.html.c65546d3.js"><link rel="prefetch" href="/flame-cn/assets/effects.html.ab8f2660.js"><link rel="prefetch" href="/flame-cn/assets/file-structure.html.5fead449.js"><link rel="prefetch" href="/flame-cn/assets/game-loop.html.9e961e5f.js"><link rel="prefetch" href="/flame-cn/assets/platforms.html.11f8f099.js"><link rel="prefetch" href="/flame-cn/assets/audio.html.5d6bcada.js"><link rel="prefetch" href="/flame-cn/assets/bgm.html.8d6da2e8.js"><link rel="prefetch" href="/flame-cn/assets/forge2d.html.f15f61a9.js"><link rel="prefetch" href="/flame-cn/assets/oxygen.html.1e2925d2.js"><link rel="prefetch" href="/flame-cn/assets/splash_screen.html.47876a47.js"><link rel="prefetch" href="/flame-cn/assets/tiled.html.1022abd6.js"><link rel="prefetch" href="/flame-cn/assets/bare_flame_game.html.6be6c682.js"><link rel="prefetch" href="/flame-cn/assets/tutorials.html.3cde02b3.js"><link rel="prefetch" href="/flame-cn/assets/debug.html.e3d5c452.js"><link rel="prefetch" href="/flame-cn/assets/util.html.4c65b1ac.js"><link rel="prefetch" href="/flame-cn/assets/widgets.html.136539b7.js"><link rel="prefetch" href="/flame-cn/assets/gesture-input.html.c89bdbf5.js"><link rel="prefetch" href="/flame-cn/assets/keyboard-input.html.f014bac6.js"><link rel="prefetch" href="/flame-cn/assets/other-inputs.html.19f5b9a3.js"><link rel="prefetch" href="/flame-cn/assets/images.html.2cbd5f48.js"><link rel="prefetch" href="/flame-cn/assets/layers.html.c7d85b73.js"><link rel="prefetch" href="/flame-cn/assets/palette.html.2569ba6e.js"><link rel="prefetch" href="/flame-cn/assets/particles.html.fc3cad27.js"><link rel="prefetch" href="/flame-cn/assets/text.html.63780818.js"><link rel="prefetch" href="/flame-cn/assets/klondike.html.b005eae0.js"><link rel="prefetch" href="/flame-cn/assets/step1.html.8e1625d9.js"><link rel="prefetch" href="/flame-cn/assets/step2.html.486534cd.js"><link rel="prefetch" href="/flame-cn/assets/tbc.html.da3e674d.js"><link rel="prefetch" href="/flame-cn/assets/404.html.93146c89.js"><link rel="prefetch" href="/flame-cn/assets/index.html.6f0f832c.js"><link rel="prefetch" href="/flame-cn/assets/started.html.0904afb8.js"><link rel="prefetch" href="/flame-cn/assets/camera-and-viewport.html.3a0470d2.js"><link rel="prefetch" href="/flame-cn/assets/camera-component.html.a9ea96f5.js"><link rel="prefetch" href="/flame-cn/assets/collision-detection.html.b64ca33b.js"><link rel="prefetch" href="/flame-cn/assets/components.html.a28e7017.js"><link rel="prefetch" href="/flame-cn/assets/effects.html.c9332fae.js"><link rel="prefetch" href="/flame-cn/assets/file-structure.html.c436f1c4.js"><link rel="prefetch" href="/flame-cn/assets/game-loop.html.af706cf9.js"><link rel="prefetch" href="/flame-cn/assets/platforms.html.fd66119b.js"><link rel="prefetch" href="/flame-cn/assets/audio.html.f5f444b1.js"><link rel="prefetch" href="/flame-cn/assets/bgm.html.12341541.js"><link rel="prefetch" href="/flame-cn/assets/forge2d.html.4a8de694.js"><link rel="prefetch" href="/flame-cn/assets/oxygen.html.9ffad74c.js"><link rel="prefetch" href="/flame-cn/assets/splash_screen.html.3e334b75.js"><link rel="prefetch" href="/flame-cn/assets/tiled.html.47e90b23.js"><link rel="prefetch" href="/flame-cn/assets/bare_flame_game.html.76f2db98.js"><link rel="prefetch" href="/flame-cn/assets/tutorials.html.094bc70d.js"><link rel="prefetch" href="/flame-cn/assets/debug.html.0f927191.js"><link rel="prefetch" href="/flame-cn/assets/util.html.ce032317.js"><link rel="prefetch" href="/flame-cn/assets/widgets.html.fece8b09.js"><link rel="prefetch" href="/flame-cn/assets/gesture-input.html.cece48bc.js"><link rel="prefetch" href="/flame-cn/assets/keyboard-input.html.382c903f.js"><link rel="prefetch" href="/flame-cn/assets/other-inputs.html.6c41c178.js"><link rel="prefetch" href="/flame-cn/assets/images.html.c0984851.js"><link rel="prefetch" href="/flame-cn/assets/layers.html.ea02fc00.js"><link rel="prefetch" href="/flame-cn/assets/palette.html.181a7977.js"><link rel="prefetch" href="/flame-cn/assets/particles.html.46c410d6.js"><link rel="prefetch" href="/flame-cn/assets/text.html.0b6b1a96.js"><link rel="prefetch" href="/flame-cn/assets/klondike.html.e15dd0af.js"><link rel="prefetch" href="/flame-cn/assets/step1.html.08ef7cc1.js"><link rel="prefetch" href="/flame-cn/assets/step2.html.df492ce8.js"><link rel="prefetch" href="/flame-cn/assets/tbc.html.56f3f759.js"><link rel="prefetch" href="/flame-cn/assets/404.html.7de699ec.js"><link rel="prefetch" href="/flame-cn/assets/404.ec64c5cb.js"><link rel="prefetch" href="/flame-cn/assets/Layout.a241fed5.js">
    <link rel="stylesheet" href="/flame-cn/assets/style.ff22a552.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/flame-cn/" class=""><img class="logo" src="/flame-cn/images/logo.png" alt="Flame引擎中文文档"><span class="site-name can-hide">Flame引擎中文文档</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a class="external-link" href="https://docs.flame-engine.org/1.1.1/" rel="noopener noreferrer" target="_blank" aria-label="版本 1.1.1"><!--[--><!--]--> 版本 1.1.1 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://flame-engine.org/" rel="noopener noreferrer" target="_blank" aria-label="官网"><!--[--><!--]--> 官网 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://examples.flame-engine.org/" rel="noopener noreferrer" target="_blank" aria-label="示例"><!--[--><!--]--> 示例 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/flame-engine/flame" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="文档仓库"><span class="title">文档仓库</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="文档仓库"><span class="title">文档仓库</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/ilgnefz/flame-cn" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://gitee.com/ilgnefz/flame-cn" rel="noopener noreferrer" target="_blank" aria-label="Gitee"><!--[--><!--]--> Gitee <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a class="external-link" href="https://docs.flame-engine.org/1.1.1/" rel="noopener noreferrer" target="_blank" aria-label="版本 1.1.1"><!--[--><!--]--> 版本 1.1.1 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://flame-engine.org/" rel="noopener noreferrer" target="_blank" aria-label="官网"><!--[--><!--]--> 官网 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://examples.flame-engine.org/" rel="noopener noreferrer" target="_blank" aria-label="示例"><!--[--><!--]--> 示例 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/flame-engine/flame" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="文档仓库"><span class="title">文档仓库</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="文档仓库"><span class="title">文档仓库</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/ilgnefz/flame-cn" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://gitee.com/ilgnefz/flame-cn" rel="noopener noreferrer" target="_blank" aria-label="Gitee"><!--[--><!--]--> Gitee <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/flame-cn/guide/started.md" class="sidebar-item sidebar-heading collapsible" aria-label="开始使用"><!--[--><!--]--> 开始使用 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#关于" class="router-link-active router-link-exact-active sidebar-item" aria-label="关于"><!--[--><!--]--> 关于 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#安装" class="router-link-active router-link-exact-active sidebar-item" aria-label="安装"><!--[--><!--]--> 安装 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#入门" class="router-link-active router-link-exact-active sidebar-item" aria-label="入门"><!--[--><!--]--> 入门 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#其他" class="router-link-active router-link-exact-active sidebar-item" aria-label="其他"><!--[--><!--]--> 其他 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#多人游戏-网络编程" class="router-link-active router-link-exact-active sidebar-item" aria-label="多人游戏（网络编程）"><!--[--><!--]--> 多人游戏（网络编程） <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#外部资源" class="router-link-active router-link-exact-active sidebar-item" aria-label="外部资源"><!--[--><!--]--> 外部资源 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/file-structure.md" class="sidebar-item sidebar-heading collapsible" aria-label="Flame"><!--[--><!--]--> Flame <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/flame-cn/guide/flame/file-structure.md" class="sidebar-item" aria-label="文件结构"><!--[--><!--]--> 文件结构 <!--[--><!--]--></a><!----></li><li><a href="/flame-cn/guide/flame/game-loop.md" class="sidebar-item collapsible" aria-label="游戏循环"><!--[--><!--]--> 游戏循环 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#生命周期" class="router-link-active router-link-exact-active sidebar-item" aria-label="生命周期"><!--[--><!--]--> 生命周期 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#调试模式" class="router-link-active router-link-exact-active sidebar-item" aria-label="调试模式"><!--[--><!--]--> 调试模式 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#更改背景颜色" class="router-link-active router-link-exact-active sidebar-item" aria-label="更改背景颜色"><!--[--><!--]--> 更改背景颜色 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#singlegameinstance-mixin" class="router-link-active router-link-exact-active sidebar-item" aria-label="SingleGameInstance mixin"><!--[--><!--]--> SingleGameInstance mixin <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#低级游戏api" class="router-link-active router-link-exact-active sidebar-item" aria-label="低级游戏API"><!--[--><!--]--> 低级游戏API <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#game-loop-游戏循环" class="router-link-active router-link-exact-active sidebar-item" aria-label="Game Loop 游戏循环"><!--[--><!--]--> Game Loop 游戏循环 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#游戏执行暂停-恢复" class="router-link-active router-link-exact-active sidebar-item" aria-label="游戏执行暂停/恢复"><!--[--><!--]--> 游戏执行暂停/恢复 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#flutter小部件和game实例" class="router-link-active router-link-exact-active sidebar-item" aria-label="Flutter小部件和Game实例"><!--[--><!--]--> Flutter小部件和Game实例 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/components.md" class="sidebar-item collapsible" aria-label="组件"><!--[--><!--]--> 组件 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/flame-cn/guide/flame/components.md#组件" class="sidebar-item" aria-label="组件"><!--[--><!--]--> 组件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#优先权" class="router-link-active router-link-exact-active sidebar-item" aria-label="优先权"><!--[--><!--]--> 优先权 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#可组合性的组件" class="router-link-active router-link-exact-active sidebar-item" aria-label="可组合性的组件"><!--[--><!--]--> 可组合性的组件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#确保组件有一个给定的父组件" class="router-link-active router-link-exact-active sidebar-item" aria-label="确保组件有一个给定的父组件"><!--[--><!--]--> 确保组件有一个给定的父组件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#查询子组件" class="router-link-active router-link-exact-active sidebar-item" aria-label="查询子组件"><!--[--><!--]--> 查询子组件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#在屏幕上的特定点查询组件" class="router-link-active router-link-exact-active sidebar-item" aria-label="在屏幕上的特定点查询组件"><!--[--><!--]--> 在屏幕上的特定点查询组件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#positiontype" class="router-link-active router-link-exact-active sidebar-item" aria-label="PositionType"><!--[--><!--]--> PositionType <!--[--><!--]--></a><!----></li><li><a href="/flame-cn/guide/flame/components.md#positioncomponent" class="sidebar-item" aria-label="PositionComponent"><!--[--><!--]--> PositionComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#positioncomponent子元素" class="router-link-active router-link-exact-active sidebar-item" aria-label="PositionComponent子元素"><!--[--><!--]--> PositionComponent子元素 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#渲染positioncomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="渲染PositionComponent"><!--[--><!--]--> 渲染PositionComponent <!--[--><!--]--></a><!----></li><li><a href="/flame-cn/guide/flame/components.md#spritecomponent" class="sidebar-item" aria-label="SpriteComponent"><!--[--><!--]--> SpriteComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#spriteanimationcomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="SpriteAnimationComponent"><!--[--><!--]--> SpriteAnimationComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#spriteanimationgroupcomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="SpriteAnimationGroupComponent"><!--[--><!--]--> SpriteAnimationGroupComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#spritegroupcomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="SpriteGroupComponent"><!--[--><!--]--> SpriteGroupComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#svgcomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="SvgComponent"><!--[--><!--]--> SvgComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#flareactorcomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="FlareActorComponent"><!--[--><!--]--> FlareActorComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#parallaxcomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="ParallaxComponent"><!--[--><!--]--> ParallaxComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#shapecomponents" class="router-link-active router-link-exact-active sidebar-item" aria-label="ShapeComponents"><!--[--><!--]--> ShapeComponents <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#polygoncomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="PolygonComponent"><!--[--><!--]--> PolygonComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#rectanglecomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="RectangleComponent"><!--[--><!--]--> RectangleComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#circlecomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="CircleComponent"><!--[--><!--]--> CircleComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#spritebodycomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="SpriteBodyComponent"><!--[--><!--]--> SpriteBodyComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#tiledcomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="TiledComponent"><!--[--><!--]--> TiledComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#isometrictilemapcomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="IsometricTileMapComponent"><!--[--><!--]--> IsometricTileMapComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#ninetileboxcomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="NineTileBoxComponent"><!--[--><!--]--> NineTileBoxComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#自定义绘制组件" class="router-link-active router-link-exact-active sidebar-item" aria-label="自定义绘制组件"><!--[--><!--]--> 自定义绘制组件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#特效" class="router-link-active router-link-exact-active sidebar-item" aria-label="特效"><!--[--><!--]--> 特效 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/platforms.md" class="sidebar-item collapsible" aria-label="平台"><!--[--><!--]--> 平台 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#flutter通道" class="router-link-active router-link-exact-active sidebar-item" aria-label="Flutter通道"><!--[--><!--]--> Flutter通道 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#flame网页端" class="router-link-active router-link-exact-active sidebar-item" aria-label="Flame网页端"><!--[--><!--]--> Flame网页端 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#部署您的游戏到github-pages" class="router-link-active router-link-exact-active sidebar-item" aria-label="部署您的游戏到Github Pages"><!--[--><!--]--> 部署您的游戏到Github Pages <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#web支持" class="router-link-active router-link-exact-active sidebar-item" aria-label="Web支持"><!--[--><!--]--> Web支持 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/collision-detection.md" class="sidebar-item collapsible" aria-label="碰撞检测"><!--[--><!--]--> 碰撞检测 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#mixins" class="router-link-active router-link-exact-active sidebar-item collapsible" aria-label="Mixins"><!--[--><!--]--> Mixins <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#hascollisiondetection" class="router-link-active router-link-exact-active sidebar-item" aria-label="HasCollisionDetection"><!--[--><!--]--> HasCollisionDetection <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#collisioncallbacks" class="router-link-active router-link-exact-active sidebar-item" aria-label="CollisionCallbacks"><!--[--><!--]--> CollisionCallbacks <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#shapehitbox" class="router-link-active router-link-exact-active sidebar-item collapsible" aria-label="ShapeHitbox"><!--[--><!--]--> ShapeHitbox <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#collisiontype" class="router-link-active router-link-exact-active sidebar-item" aria-label="CollisionType"><!--[--><!--]--> CollisionType <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#polygonhitbox" class="router-link-active router-link-exact-active sidebar-item" aria-label="PolygonHitbox"><!--[--><!--]--> PolygonHitbox <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#rectanglehitbox" class="router-link-active router-link-exact-active sidebar-item" aria-label="RectangleHitbox"><!--[--><!--]--> RectangleHitbox <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#circlehitbox" class="router-link-active router-link-exact-active sidebar-item" aria-label="CircleHitbox"><!--[--><!--]--> CircleHitbox <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#screenhitbox" class="router-link-active router-link-exact-active sidebar-item" aria-label="ScreenHitbox"><!--[--><!--]--> ScreenHitbox <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#compositehitbox" class="router-link-active router-link-exact-active sidebar-item" aria-label="CompositeHitbox"><!--[--><!--]--> CompositeHitbox <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#broadphase" class="router-link-active router-link-exact-active sidebar-item" aria-label="BroadPhase"><!--[--><!--]--> BroadPhase <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#与-forge2d-的比较" class="router-link-active router-link-exact-active sidebar-item" aria-label="与 Forge2D 的比较"><!--[--><!--]--> 与 Forge2D 的比较 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#从-v1.0-中的碰撞侦测系统迁移" class="router-link-active router-link-exact-active sidebar-item collapsible" aria-label="从 v1.0 中的碰撞侦测系统迁移"><!--[--><!--]--> 从 v1.0 中的碰撞侦测系统迁移 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#名称更改" class="router-link-active router-link-exact-active sidebar-item" aria-label="名称更改"><!--[--><!--]--> 名称更改 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/collision-detection.md#示例" class="sidebar-item" aria-label="示例"><!--[--><!--]--> 示例 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/effects.md" class="sidebar-item collapsible" aria-label="特效"><!--[--><!--]--> 特效 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#概述" class="router-link-active router-link-exact-active sidebar-item" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#内置特效" class="router-link-active router-link-exact-active sidebar-item collapsible" aria-label="内置特效"><!--[--><!--]--> 内置特效 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#effect" class="router-link-active router-link-exact-active sidebar-item" aria-label="Effect"><!--[--><!--]--> Effect <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#movebyeffect" class="router-link-active router-link-exact-active sidebar-item" aria-label="MoveByEffect"><!--[--><!--]--> MoveByEffect <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#movetoeffect" class="router-link-active router-link-exact-active sidebar-item" aria-label="MoveToEffect"><!--[--><!--]--> MoveToEffect <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#movealongpatheffect" class="router-link-active router-link-exact-active sidebar-item" aria-label="MoveAlongPathEffect"><!--[--><!--]--> MoveAlongPathEffect <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#rotateeffect-by" class="router-link-active router-link-exact-active sidebar-item" aria-label="RotateEffect.by"><!--[--><!--]--> RotateEffect.by <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#rotateeffect-to" class="router-link-active router-link-exact-active sidebar-item" aria-label="RotateEffect.to"><!--[--><!--]--> RotateEffect.to <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#scaleeffect-by" class="router-link-active router-link-exact-active sidebar-item" aria-label="ScaleEffect.by"><!--[--><!--]--> ScaleEffect.by <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#scaleeffect-to" class="router-link-active router-link-exact-active sidebar-item" aria-label="ScaleEffect.to"><!--[--><!--]--> ScaleEffect.to <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#sizeeffect-by" class="router-link-active router-link-exact-active sidebar-item" aria-label="SizeEffect.by"><!--[--><!--]--> SizeEffect.by <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#sizeeffect-to" class="router-link-active router-link-exact-active sidebar-item" aria-label="SizeEffect.to"><!--[--><!--]--> SizeEffect.to <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#anchorbyeffect" class="router-link-active router-link-exact-active sidebar-item" aria-label="AnchorByEffect"><!--[--><!--]--> AnchorByEffect <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#anchortoeffect" class="router-link-active router-link-exact-active sidebar-item" aria-label="AnchorToEffect"><!--[--><!--]--> AnchorToEffect <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#opacityeffect" class="router-link-active router-link-exact-active sidebar-item" aria-label="OpacityEffect"><!--[--><!--]--> OpacityEffect <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#sequenceeffect" class="router-link-active router-link-exact-active sidebar-item" aria-label="SequenceEffect"><!--[--><!--]--> SequenceEffect <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#removeeffect" class="router-link-active router-link-exact-active sidebar-item" aria-label="RemoveEffect"><!--[--><!--]--> RemoveEffect <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#coloreffect" class="router-link-active router-link-exact-active sidebar-item" aria-label="ColorEffect"><!--[--><!--]--> ColorEffect <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#创建新的特效" class="router-link-active router-link-exact-active sidebar-item" aria-label="创建新的特效"><!--[--><!--]--> 创建新的特效 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#特效控制器" class="router-link-active router-link-exact-active sidebar-item collapsible" aria-label="特效控制器"><!--[--><!--]--> 特效控制器 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#effectcontroller" class="router-link-active router-link-exact-active sidebar-item" aria-label="EffectController"><!--[--><!--]--> EffectController <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#lineareffectcontroller" class="router-link-active router-link-exact-active sidebar-item" aria-label="LinearEffectController"><!--[--><!--]--> LinearEffectController <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#reverselineareffectcontroller" class="router-link-active router-link-exact-active sidebar-item" aria-label="ReverseLinearEffectController"><!--[--><!--]--> ReverseLinearEffectController <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#curvedeffectcontroller" class="router-link-active router-link-exact-active sidebar-item" aria-label="CurvedEffectController"><!--[--><!--]--> CurvedEffectController <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#reversecurvedeffectcontroller" class="router-link-active router-link-exact-active sidebar-item" aria-label="ReverseCurvedEffectController"><!--[--><!--]--> ReverseCurvedEffectController <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#pauseeffectcontroller" class="router-link-active router-link-exact-active sidebar-item" aria-label="PauseEffectController"><!--[--><!--]--> PauseEffectController <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#repeatedeffectcontroller" class="router-link-active router-link-exact-active sidebar-item" aria-label="RepeatedEffectController"><!--[--><!--]--> RepeatedEffectController <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#infiniteeffectcontroller" class="router-link-active router-link-exact-active sidebar-item" aria-label="InfiniteEffectController"><!--[--><!--]--> InfiniteEffectController <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#sequenceeffectcontroller" class="router-link-active router-link-exact-active sidebar-item" aria-label="SequenceEffectController"><!--[--><!--]--> SequenceEffectController <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#speedeffectcontroller" class="router-link-active router-link-exact-active sidebar-item" aria-label="SpeedEffectController"><!--[--><!--]--> SpeedEffectController <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#delayedeffectcontroller" class="router-link-active router-link-exact-active sidebar-item" aria-label="DelayedEffectController"><!--[--><!--]--> DelayedEffectController <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#noiseeffectcontroller" class="router-link-active router-link-exact-active sidebar-item" aria-label="NoiseEffectController"><!--[--><!--]--> NoiseEffectController <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#randomeffectcontroller" class="router-link-active router-link-exact-active sidebar-item" aria-label="RandomEffectController"><!--[--><!--]--> RandomEffectController <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#sineeffectcontroller" class="router-link-active router-link-exact-active sidebar-item" aria-label="SineEffectController"><!--[--><!--]--> SineEffectController <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#zigzageffectcontroller" class="router-link-active router-link-exact-active sidebar-item" aria-label="ZigzagEffectController"><!--[--><!--]--> ZigzagEffectController <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#参考" class="router-link-active router-link-exact-active sidebar-item" aria-label="参考"><!--[--><!--]--> 参考 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/camera-and-viewport.md" class="sidebar-item collapsible" aria-label="摄像机和视口"><!--[--><!--]--> 摄像机和视口 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#视口" class="router-link-active router-link-exact-active sidebar-item" aria-label="视口"><!--[--><!--]--> 视口 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#摄像机" class="router-link-active router-link-exact-active sidebar-item collapsible" aria-label="摄像机"><!--[--><!--]--> 摄像机 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#camera-followvector2" class="router-link-active router-link-exact-active sidebar-item" aria-label="Camera.followVector2"><!--[--><!--]--> Camera.followVector2 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#camera-followcomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="Camera.followComponent"><!--[--><!--]--> Camera.followComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#在游戏类中使用摄像机" class="router-link-active router-link-exact-active sidebar-item" aria-label="在游戏类中使用摄像机"><!--[--><!--]--> 在游戏类中使用摄像机 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/camera-component.md" class="sidebar-item collapsible" aria-label="摄像机组件"><!--[--><!--]--> 摄像机组件 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#world" class="router-link-active router-link-exact-active sidebar-item" aria-label="World"><!--[--><!--]--> World <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#cameracomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="CameraComponent"><!--[--><!--]--> CameraComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#viewport" class="router-link-active router-link-exact-active sidebar-item" aria-label="Viewport"><!--[--><!--]--> Viewport <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#viewfinder" class="router-link-active router-link-exact-active sidebar-item" aria-label="Viewfinder"><!--[--><!--]--> Viewfinder <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#摄像机控制" class="router-link-active router-link-exact-active sidebar-item" aria-label="摄像机控制"><!--[--><!--]--> 摄像机控制 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#与传统camera的比较" class="router-link-active router-link-exact-active sidebar-item" aria-label="与传统Camera的比较"><!--[--><!--]--> 与传统Camera的比较 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/inputs/gesture-input.md" class="sidebar-item collapsible" aria-label="输入"><!--[--><!--]--> 输入 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/flame-cn/guide/flame/inputs/gesture-input.md" class="sidebar-item collapsible" aria-label="手势输入"><!--[--><!--]--> 手势输入 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/flame-cn/guide/flame/inputs/gesture-input.md#介绍" class="sidebar-item" aria-label="介绍"><!--[--><!--]--> 介绍 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#触摸和鼠标检测器" class="router-link-active router-link-exact-active sidebar-item" aria-label="触摸和鼠标检测器"><!--[--><!--]--> 触摸和鼠标检测器 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#pandetector和scaledetector" class="router-link-active router-link-exact-active sidebar-item" aria-label="PanDetector和ScaleDetector"><!--[--><!--]--> PanDetector和ScaleDetector <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#鼠标光标" class="router-link-active router-link-exact-active sidebar-item" aria-label="鼠标光标"><!--[--><!--]--> 鼠标光标 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#事件坐标系系统" class="router-link-active router-link-exact-active sidebar-item collapsible" aria-label="事件坐标系系统"><!--[--><!--]--> 事件坐标系系统 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#global" class="router-link-active router-link-exact-active sidebar-item" aria-label="global"><!--[--><!--]--> global <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#widget" class="router-link-active router-link-exact-active sidebar-item" aria-label="widget"><!--[--><!--]--> widget <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#game" class="router-link-active router-link-exact-active sidebar-item" aria-label="game"><!--[--><!--]--> game <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/inputs/gesture-input.md#示例" class="sidebar-item" aria-label="示例"><!--[--><!--]--> 示例 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#可点击、可拖动和可悬停组件" class="router-link-active router-link-exact-active sidebar-item collapsible" aria-label="可点击、可拖动和可悬停组件"><!--[--><!--]--> 可点击、可拖动和可悬停组件 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#可点击组件" class="router-link-active router-link-exact-active sidebar-item" aria-label="可点击组件"><!--[--><!--]--> 可点击组件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#可拖动组件" class="router-link-active router-link-exact-active sidebar-item" aria-label="可拖动组件"><!--[--><!--]--> 可拖动组件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#可悬停组件" class="router-link-active router-link-exact-active sidebar-item" aria-label="可悬停组件"><!--[--><!--]--> 可悬停组件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#gesturehitboxes" class="router-link-active router-link-exact-active sidebar-item" aria-label="GestureHitboxes"><!--[--><!--]--> GestureHitboxes <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/inputs/keyboard-input.md" class="sidebar-item collapsible" aria-label="键盘输入"><!--[--><!--]--> 键盘输入 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/flame-cn/guide/flame/inputs/keyboard-input.md#介绍" class="sidebar-item collapsible" aria-label="介绍"><!--[--><!--]--> 介绍 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#在游戏关卡中接收键盘事件" class="router-link-active router-link-exact-active sidebar-item" aria-label="在游戏关卡中接收键盘事件"><!--[--><!--]--> 在游戏关卡中接收键盘事件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#在组件级别接收键盘事件" class="router-link-active router-link-exact-active sidebar-item" aria-label="在组件级别接收键盘事件"><!--[--><!--]--> 在组件级别接收键盘事件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#控制焦点" class="router-link-active router-link-exact-active sidebar-item" aria-label="控制焦点"><!--[--><!--]--> 控制焦点 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/inputs/other-inputs.md" class="sidebar-item collapsible" aria-label="其他输入"><!--[--><!--]--> 其他输入 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#操作杆" class="router-link-active router-link-exact-active sidebar-item" aria-label="操作杆"><!--[--><!--]--> 操作杆 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#hudbuttoncomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="HudButtonComponent"><!--[--><!--]--> HudButtonComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#spritebuttoncomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="SpriteButtonComponent"><!--[--><!--]--> SpriteButtonComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#buttoncomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="ButtonComponent"><!--[--><!--]--> ButtonComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#gamepad" class="router-link-active router-link-exact-active sidebar-item" aria-label="Gamepad"><!--[--><!--]--> Gamepad <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/rendering/images.md" class="sidebar-item collapsible" aria-label="渲染"><!--[--><!--]--> 渲染 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/flame-cn/guide/flame/rendering/images.md" class="sidebar-item collapsible" aria-label="图片、精灵图和动画"><!--[--><!--]--> 图片、精灵图和动画 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#载入图片" class="router-link-active router-link-exact-active sidebar-item collapsible" aria-label="载入图片"><!--[--><!--]--> 载入图片 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#单独使用" class="router-link-active router-link-exact-active sidebar-item" aria-label="单独使用"><!--[--><!--]--> 单独使用 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#flame-images" class="router-link-active router-link-exact-active sidebar-item" aria-label="Flame.images"><!--[--><!--]--> Flame.images <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#game-images" class="router-link-active router-link-exact-active sidebar-item" aria-label="Game.images"><!--[--><!--]--> Game.images <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#精灵图" class="router-link-active router-link-exact-active sidebar-item" aria-label="精灵图"><!--[--><!--]--> 精灵图 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#spritebatch" class="router-link-active router-link-exact-active sidebar-item" aria-label="SpriteBatch"><!--[--><!--]--> SpriteBatch <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#imagecomposition" class="router-link-active router-link-exact-active sidebar-item" aria-label="ImageComposition"><!--[--><!--]--> ImageComposition <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#svg" class="router-link-active router-link-exact-active sidebar-item" aria-label="Svg"><!--[--><!--]--> Svg <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#动画" class="router-link-active router-link-exact-active sidebar-item" aria-label="动画"><!--[--><!--]--> 动画 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#flareanimation" class="router-link-active router-link-exact-active sidebar-item" aria-label="FlareAnimation"><!--[--><!--]--> FlareAnimation <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#spritesheet" class="router-link-active router-link-exact-active sidebar-item" aria-label="SpriteSheet"><!--[--><!--]--> SpriteSheet <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/rendering/text.md" class="sidebar-item collapsible" aria-label="文本渲染"><!--[--><!--]--> 文本渲染 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#textrenderer" class="router-link-active router-link-exact-active sidebar-item" aria-label="TextRenderer"><!--[--><!--]--> TextRenderer <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#textpaint" class="router-link-active router-link-exact-active sidebar-item" aria-label="TextPaint"><!--[--><!--]--> TextPaint <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#文本组件" class="router-link-active router-link-exact-active sidebar-item collapsible" aria-label="文本组件"><!--[--><!--]--> 文本组件 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/flame-cn/guide/flame/rendering/text.md#textcomponent" class="sidebar-item" aria-label="TextComponent"><!--[--><!--]--> TextComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#textboxcomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="TextBoxComponent"><!--[--><!--]--> TextBoxComponent <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/rendering/palette.md" class="sidebar-item" aria-label="颜色和调色板"><!--[--><!--]--> 颜色和调色板 <!--[--><!--]--></a><!----></li><li><a href="/flame-cn/guide/flame/rendering/particles.md" class="sidebar-item collapsible" aria-label="粒子"><!--[--><!--]--> 粒子 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#生命周期" class="router-link-active router-link-exact-active sidebar-item" aria-label="生命周期"><!--[--><!--]--> 生命周期 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#内置粒子" class="router-link-active router-link-exact-active sidebar-item" aria-label="内置粒子"><!--[--><!--]--> 内置粒子 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#movingparticle" class="router-link-active router-link-exact-active sidebar-item" aria-label="MovingParticle"><!--[--><!--]--> MovingParticle <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#acceleratedparticle" class="router-link-active router-link-exact-active sidebar-item" aria-label="AcceleratedParticle"><!--[--><!--]--> AcceleratedParticle <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#circleparticle" class="router-link-active router-link-exact-active sidebar-item" aria-label="CircleParticle"><!--[--><!--]--> CircleParticle <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#spriteparticle" class="router-link-active router-link-exact-active sidebar-item" aria-label="SpriteParticle"><!--[--><!--]--> SpriteParticle <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#imageparticle" class="router-link-active router-link-exact-active sidebar-item" aria-label="ImageParticle"><!--[--><!--]--> ImageParticle <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#animationparticle" class="router-link-active router-link-exact-active sidebar-item" aria-label="AnimationParticle"><!--[--><!--]--> AnimationParticle <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#componentparticle" class="router-link-active router-link-exact-active sidebar-item" aria-label="ComponentParticle"><!--[--><!--]--> ComponentParticle <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#flareparticle" class="router-link-active router-link-exact-active sidebar-item" aria-label="FlareParticle"><!--[--><!--]--> FlareParticle <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#computedparticle" class="router-link-active router-link-exact-active sidebar-item" aria-label="ComputedParticle"><!--[--><!--]--> ComputedParticle <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#嵌套行为" class="router-link-active router-link-exact-active sidebar-item" aria-label="嵌套行为"><!--[--><!--]--> 嵌套行为 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/rendering/layers.md" class="sidebar-item collapsible" aria-label="图层"><!--[--><!--]--> 图层 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#dynamiclayer" class="router-link-active router-link-exact-active sidebar-item" aria-label="DynamicLayer"><!--[--><!--]--> DynamicLayer <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#prerenderedlayer" class="router-link-active router-link-exact-active sidebar-item" aria-label="PreRenderedLayer"><!--[--><!--]--> PreRenderedLayer <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#图层处理器" class="router-link-active router-link-exact-active sidebar-item" aria-label="图层处理器"><!--[--><!--]--> 图层处理器 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/other/debug.md" class="sidebar-item collapsible" aria-label="其他"><!--[--><!--]--> 其他 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/flame-cn/guide/flame/other/debug.md" class="sidebar-item collapsible" aria-label="调试"><!--[--><!--]--> 调试 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#帧数" class="router-link-active router-link-exact-active sidebar-item" aria-label="帧数"><!--[--><!--]--> 帧数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#flamegame特性" class="router-link-active router-link-exact-active sidebar-item" aria-label="FlameGame特性"><!--[--><!--]--> FlameGame特性 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/other/util.md" class="sidebar-item collapsible" aria-label="实用工具"><!--[--><!--]--> 实用工具 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#设备类" class="router-link-active router-link-exact-active sidebar-item collapsible" aria-label="设备类"><!--[--><!--]--> 设备类 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#flame-device-fullscreen" class="router-link-active router-link-exact-active sidebar-item" aria-label="Flame.device.fullScreen()"><!--[--><!--]--> Flame.device.fullScreen() <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#flame-device-setlandscape" class="router-link-active router-link-exact-active sidebar-item" aria-label="Flame.device.setLandscape()"><!--[--><!--]--> Flame.device.setLandscape() <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#flame-device-setportrait" class="router-link-active router-link-exact-active sidebar-item" aria-label="Flame.device.setPortrait()"><!--[--><!--]--> Flame.device.setPortrait() <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#flame-device-setorientation-and-flame-device-setorientations" class="router-link-active router-link-exact-active sidebar-item" aria-label="Flame.device.setOrientation() and Flame.device.setOrientations()"><!--[--><!--]--> Flame.device.setOrientation() and Flame.device.setOrientations() <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#定时器" class="router-link-active router-link-exact-active sidebar-item" aria-label="定时器"><!--[--><!--]--> 定时器 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#扩展" class="router-link-active router-link-exact-active sidebar-item collapsible" aria-label="扩展"><!--[--><!--]--> 扩展 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#canvas" class="router-link-active router-link-exact-active sidebar-item" aria-label="Canvas"><!--[--><!--]--> Canvas <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#color" class="router-link-active router-link-exact-active sidebar-item" aria-label="Color"><!--[--><!--]--> Color <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#image" class="router-link-active router-link-exact-active sidebar-item" aria-label="Image"><!--[--><!--]--> Image <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#offset" class="router-link-active router-link-exact-active sidebar-item" aria-label="Offset"><!--[--><!--]--> Offset <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#rect" class="router-link-active router-link-exact-active sidebar-item" aria-label="Rect"><!--[--><!--]--> Rect <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#math-rectangle" class="router-link-active router-link-exact-active sidebar-item" aria-label="math.Rectangle"><!--[--><!--]--> math.Rectangle <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#size" class="router-link-active router-link-exact-active sidebar-item" aria-label="Size"><!--[--><!--]--> Size <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#vector2" class="router-link-active router-link-exact-active sidebar-item" aria-label="Vector2"><!--[--><!--]--> Vector2 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#matrix4" class="router-link-active router-link-exact-active sidebar-item" aria-label="Matrix4"><!--[--><!--]--> Matrix4 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame/other/widgets.md" class="sidebar-item collapsible" aria-label="小部件"><!--[--><!--]--> 小部件 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#ninetilebox" class="router-link-active router-link-exact-active sidebar-item" aria-label="NineTileBox"><!--[--><!--]--> NineTileBox <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#spritebutton" class="router-link-active router-link-exact-active sidebar-item" aria-label="SpriteButton"><!--[--><!--]--> SpriteButton <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#spritewidget" class="router-link-active router-link-exact-active sidebar-item" aria-label="SpriteWidget"><!--[--><!--]--> SpriteWidget <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#spriteanimationwidget" class="router-link-active router-link-exact-active sidebar-item" aria-label="SpriteAnimationWidget"><!--[--><!--]--> SpriteAnimationWidget <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul></li><li><a href="/flame-cn/guide/flame_audio/audio.md" class="sidebar-item sidebar-heading collapsible" aria-label="Flame音频"><!--[--><!--]--> Flame音频 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/flame-cn/guide/flame_audio/audio.md" class="sidebar-item" aria-label="一般音频"><!--[--><!--]--> 一般音频 <!--[--><!--]--></a><!----></li><li><a href="/flame-cn/guide/flame_audio/bgm.md" class="sidebar-item collapsible" aria-label="背景音乐"><!--[--><!--]--> 背景音乐 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#缓存音乐文件" class="router-link-active router-link-exact-active sidebar-item" aria-label="缓存音乐文件"><!--[--><!--]--> 缓存音乐文件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#方法" class="router-link-active router-link-exact-active sidebar-item collapsible" aria-label="方法"><!--[--><!--]--> 方法 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#播放" class="router-link-active router-link-exact-active sidebar-item" aria-label="播放"><!--[--><!--]--> 播放 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#停止" class="router-link-active router-link-exact-active sidebar-item" aria-label="停止"><!--[--><!--]--> 停止 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#暂停和恢复" class="router-link-active router-link-exact-active sidebar-item" aria-label="暂停和恢复"><!--[--><!--]--> 暂停和恢复 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul></li><li><a href="/flame-cn/guide/tutorials/tutorials.md" class="sidebar-item sidebar-heading active collapsible" aria-label="教程"><!--[--><!--]--> 教程 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/flame-cn/guide/tutorials/bare_flame_game.md" class="sidebar-item collapsible" aria-label="空白的Flame游戏"><!--[--><!--]--> 空白的Flame游戏 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#_1-检查flutter安装" class="router-link-active router-link-exact-active sidebar-item" aria-label="1. 检查Flutter安装"><!--[--><!--]--> 1. 检查Flutter安装 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#_2-创建项目目录" class="router-link-active router-link-exact-active sidebar-item" aria-label="2. 创建项目目录"><!--[--><!--]--> 2. 创建项目目录 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#_3-初始化空的flutter项目" class="router-link-active router-link-exact-active sidebar-item" aria-label="3. 初始化空的Flutter项目"><!--[--><!--]--> 3. 初始化空的Flutter项目 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#_4-在android-studio中打开项目" class="router-link-active router-link-exact-active sidebar-item" aria-label="4. 在Android Studio中打开项目"><!--[--><!--]--> 4. 在Android Studio中打开项目 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#_5-清理项目文件" class="router-link-active router-link-exact-active sidebar-item" aria-label="5. 清理项目文件"><!--[--><!--]--> 5. 清理项目文件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#_6-运行项目" class="router-link-active router-link-exact-active sidebar-item" aria-label="6. 运行项目"><!--[--><!--]--> 6. 运行项目 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#_7-同步到github" class="router-link-active router-link-exact-active sidebar-item" aria-label="7. 同步到GitHub"><!--[--><!--]--> 7. 同步到GitHub <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#_8-完成" class="router-link-active router-link-exact-active sidebar-item" aria-label="8. 完成"><!--[--><!--]--> 8. 完成 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/flame-cn/guide/tutorials/klondike/klondike.md" class="sidebar-item active collapsible" aria-label="Klondike"><!--[--><!--]--> Klondike <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/flame-cn/guide/tutorials/klondike/step1.md" class="sidebar-item collapsible" aria-label="1. 准备"><!--[--><!--]--> 1. 准备 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#规划" class="router-link-active router-link-exact-active sidebar-item" aria-label="规划"><!--[--><!--]--> 规划 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#资源" class="router-link-active router-link-exact-active sidebar-item" aria-label="资源"><!--[--><!--]--> 资源 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/flame-cn/guide/tutorials/klondike/step2.md" class="sidebar-item collapsible" aria-label="2. 脚手架"><!--[--><!--]--> 2. 脚手架 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#klondikegame" class="router-link-active router-link-exact-active sidebar-item" aria-label="KlondikeGame"><!--[--><!--]--> KlondikeGame <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#其他类" class="router-link-active router-link-exact-active sidebar-item" aria-label="其他类"><!--[--><!--]--> 其他类 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#游戏结构" class="router-link-active router-link-exact-active sidebar-item" aria-label="游戏结构"><!--[--><!--]--> 游戏结构 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#代码" class="router-link-active router-link-exact-active sidebar-item" aria-label="代码"><!--[--><!--]--> 代码 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/flame-cn/guide/tutorials/klondike/step3.md" class="sidebar-item active collapsible" aria-label="3. 卡片"><!--[--><!--]--> 3. 卡片 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#花色" class="router-link-active router-link-exact-active sidebar-item" aria-label="花色"><!--[--><!--]--> 花色 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#等级" class="router-link-active router-link-exact-active sidebar-item" aria-label="等级"><!--[--><!--]--> 等级 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#卡片组件" class="router-link-active router-link-exact-active sidebar-item collapsible" aria-label="卡片组件"><!--[--><!--]--> 卡片组件 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#渲染" class="router-link-active router-link-exact-active sidebar-item" aria-label="渲染"><!--[--><!--]--> 渲染 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#renderback" class="router-link-active router-link-exact-active sidebar-item" aria-label="renderBack()"><!--[--><!--]--> renderBack() <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#renderfront" class="router-link-active router-link-exact-active sidebar-item" aria-label="renderFront()"><!--[--><!--]--> renderFront() <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#代码" class="router-link-active router-link-exact-active sidebar-item" aria-label="代码"><!--[--><!--]--> 代码 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/flame-cn/guide/tutorials/klondike/tbc.md" class="sidebar-item" aria-label="待续..."><!--[--><!--]--> 待续... <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/flame-cn/guide/other_modules/forge2d.md" class="sidebar-item sidebar-heading collapsible" aria-label="其他模块"><!--[--><!--]--> 其他模块 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/flame-cn/guide/other_modules/forge2d.md" class="sidebar-item collapsible" aria-label="Forge2DGame"><!--[--><!--]--> Forge2DGame <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#forge2dgame" class="router-link-active router-link-exact-active sidebar-item" aria-label="Forge2DGame"><!--[--><!--]--> Forge2DGame <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#bodycomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="BodyComponent"><!--[--><!--]--> BodyComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#联系回调" class="router-link-active router-link-exact-active sidebar-item" aria-label="联系回调"><!--[--><!--]--> 联系回调 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#forge2dcamera-followbodycomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="Forge2DCamera.followBodyComponent"><!--[--><!--]--> Forge2DCamera.followBodyComponent <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/flame-cn/guide/other_modules/oxygen.md" class="sidebar-item collapsible" aria-label="Oxygen"><!--[--><!--]--> Oxygen <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#oxygengame-游戏扩展" class="router-link-active router-link-exact-active sidebar-item" aria-label="OxygenGame (游戏扩展)"><!--[--><!--]--> OxygenGame (游戏扩展) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#系统" class="router-link-active router-link-exact-active sidebar-item collapsible" aria-label="系统"><!--[--><!--]--> 系统 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#mixin-gameref" class="router-link-active router-link-exact-active sidebar-item" aria-label="mixin GameRef"><!--[--><!--]--> mixin GameRef <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#mixin-rendersystem" class="router-link-active router-link-exact-active sidebar-item" aria-label="mixin RenderSystem"><!--[--><!--]--> mixin RenderSystem <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#mixin-updatesystem" class="router-link-active router-link-exact-active sidebar-item" aria-label="mixin UpdateSystem"><!--[--><!--]--> mixin UpdateSystem <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#basesystem" class="router-link-active router-link-exact-active sidebar-item" aria-label="BaseSystem"><!--[--><!--]--> BaseSystem <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#particlesystem" class="router-link-active router-link-exact-active sidebar-item" aria-label="ParticleSystem"><!--[--><!--]--> ParticleSystem <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/flame-cn/guide/other_modules/oxygen.md#组件" class="sidebar-item collapsible" aria-label="组件"><!--[--><!--]--> 组件 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/flame-cn/guide/tutorials/klondike/oxygen.md#positioncomponent" class="sidebar-item" aria-label="PositionComponent"><!--[--><!--]--> PositionComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#sizecomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="SizeComponent"><!--[--><!--]--> SizeComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#anchorcomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="AnchorComponent"><!--[--><!--]--> AnchorComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#anglecomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="AngleComponent"><!--[--><!--]--> AngleComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#flipcomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="FlipComponent"><!--[--><!--]--> FlipComponent <!--[--><!--]--></a><!----></li><li><a href="/flame-cn/guide/tutorials/klondike/oxygen.md#spritecomponent" class="sidebar-item" aria-label="SpriteComponent"><!--[--><!--]--> SpriteComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#textcomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="TextComponent"><!--[--><!--]--> TextComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/flame-cn/guide/tutorials/klondike/step3.html#particlecomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="ParticleComponent"><!--[--><!--]--> ParticleComponent <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/flame-cn/guide/other_modules/tiled.md" class="sidebar-item" aria-label="Tiled"><!--[--><!--]--> Tiled <!--[--><!--]--></a><!----></li><li><a href="/flame-cn/guide/other_modules/splash_screen.md" class="sidebar-item" aria-label="闪屏页"><!--[--><!--]--> 闪屏页 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="卡片" tabindex="-1"><a class="header-anchor" href="#卡片" aria-hidden="true">#</a> 卡片</h1><p>在本章中，我们将开始实现游戏中最可见的组件——卡片组件，它对应于一张现实生活中的卡牌。游戏中将有52张卡片对象。</p><p>每张牌都有一个等级（从 1 到 13，其中 1 是 A，13 是 K）和花色（从 0 到 3：红心 ♥、方块 ♦、梅花 ♣ 和黑桃 ♠）。 此外，每张卡片都会有一个布尔标志 <code>faceUp</code>，它控制卡片当前是朝上还是朝下。 这个属性对于渲染和游戏逻辑的某些方面都很重要。</p><p>点数和花色是卡片的简单属性，它们不是组件，因此我们需要决定如何表示它们。 有几种可能性：作为简单的 <code>int</code>，或作为枚举，或作为对象。 选择将取决于我们需要对它们执行哪些操作。 对于等级，我们需要能够判断一个等级是否比另一个等级高/低。 此外，我们需要生成与给定等级相对应的文本标签和精灵。 对于花色，我们需要知道两个花色是否颜色不同，还要产生一个文本标签和一个精灵。 鉴于这些要求，我决定将 <code>Rank</code> 和 <code>Suit</code> 都表示为类。</p><h2 id="花色" tabindex="-1"><a class="header-anchor" href="#花色" aria-hidden="true">#</a> 花色</h2><p>创建文件 <code>Suit.dart</code> 并声明一个 <code>@immutable class Suit</code> ，没有父类。这里的 <code>@immutable</code> 注释只是提示我们，这个类的对象在创建之后不应该被修改。</p><p>接下来，我们为类定义工厂构造函数：<code>Suit.fromInt(i)</code>。我们在这里使用了一个工厂构造函数来实施类的单例模式：我们不是每次都创建一个新对象，而是返回我们存储在 <code> _ singletons</code> 列表中的一个预构建对象：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">factory</span> <span class="token class-name">Suit</span><span class="token punctuation">.</span><span class="token function">fromInt</span><span class="token punctuation">(</span>int index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">assert</span><span class="token punctuation">(</span>index <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> index <span class="token operator">&lt;=</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> _singletons<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在此之后，还有一个私有构造函数 <code>Suit._()</code>。 此构造函数初始化每个 <code>Suit </code>对象的主要属性：数值、字符串标签和 sprite 对象，我们稍后将使用它们在画布上绘制花色符号。 sprite 对象使用我们在上一章创建的 <code>klondikeSprite()</code> 函数进行初始化：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token class-name">Suit</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>label<span class="token punctuation">,</span> double x<span class="token punctuation">,</span> double y<span class="token punctuation">,</span> double w<span class="token punctuation">,</span> double h<span class="token punctuation">)</span>
    <span class="token punctuation">:</span> sprite <span class="token operator">=</span> <span class="token function">klondikeSprite</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> w<span class="token punctuation">,</span> h<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">final</span> int value<span class="token punctuation">;</span>
<span class="token keyword">final</span> <span class="token class-name">String</span> label<span class="token punctuation">;</span>
<span class="token keyword">final</span> <span class="token class-name">Sprite</span> sprite<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后是游戏中所有 <code>Suit</code> 对象的静态列表。注意，我们将其定义为 <code>late</code>，这意味着只有在第一次需要它时才会初始化它。这一点很重要:正如我们上面看到的，构造函数试图从全局缓存检索图像，因此只有在将图像加载到缓存后才能调用它。</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">static</span> late <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Suit</span><span class="token punctuation">&gt;</span></span> _singletons <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token class-name">Suit</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;♥&#39;</span></span><span class="token punctuation">,</span> <span class="token number">1176</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">172</span><span class="token punctuation">,</span> <span class="token number">183</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token class-name">Suit</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;♦&#39;</span></span><span class="token punctuation">,</span> <span class="token number">973</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">177</span><span class="token punctuation">,</span> <span class="token number">182</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token class-name">Suit</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;♣&#39;</span></span><span class="token punctuation">,</span> <span class="token number">974</span><span class="token punctuation">,</span> <span class="token number">226</span><span class="token punctuation">,</span> <span class="token number">184</span><span class="token punctuation">,</span> <span class="token number">172</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token class-name">Suit</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;♠&#39;</span></span><span class="token punctuation">,</span> <span class="token number">1178</span><span class="token punctuation">,</span> <span class="token number">220</span><span class="token punctuation">,</span> <span class="token number">176</span><span class="token punctuation">,</span> <span class="token number">182</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>构造函数中的最后四个数字是精灵表 <code>klondike-sprites.png</code> 中精灵图像的坐标。如果您想知道我是如何得到这些数字的，答案是我使用了一个免费的在线服务 [spritecow. com] —— 这是一个在精灵表中定位精灵图的方便工具。</p><p>最后，我有一些简单的 <code>getter</code> 来确定花色的颜色。当我们需要强制规定卡片只能通过交替颜色被放置到列中时，这将是必需的。</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token comment">/// Hearts and Diamonds are red, while Clubs and Spades are black.</span>
bool <span class="token keyword">get</span> isRed <span class="token operator">=</span><span class="token operator">&gt;</span> value <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">;</span>
bool <span class="token keyword">get</span> isBlack <span class="token operator">=</span><span class="token operator">&gt;</span> value <span class="token operator">&gt;=</span> <span class="token number">2</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="等级" tabindex="-1"><a class="header-anchor" href="#等级" aria-hidden="true">#</a> 等级</h2><p><code>Rank </code>类与 <code>Suit</code> 非常相似。主要区别在于 <code>Rank</code> 包含两张精灵图而不是一个，分别对应红色和黑色的等级。<code>Rank</code>类的完整代码如下所示：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;package:flame/components.dart&#39;</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;package:flame/flame.dart&#39;</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;package:flutter/foundation.dart&#39;</span></span><span class="token punctuation">;</span>

<span class="token metadata function">@immutable</span>
<span class="token keyword">class</span> <span class="token class-name">Rank</span> <span class="token punctuation">{</span>
  <span class="token keyword">factory</span> <span class="token class-name">Rank</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>int value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>value <span class="token operator">&gt;=</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> value <span class="token operator">&lt;=</span> <span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> _singletons<span class="token punctuation">[</span>value <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token class-name">Rank</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>label<span class="token punctuation">,</span>
    double x1<span class="token punctuation">,</span>
    double y1<span class="token punctuation">,</span>
    double x2<span class="token punctuation">,</span>
    double y2<span class="token punctuation">,</span>
    double w<span class="token punctuation">,</span>
    double h<span class="token punctuation">,</span>
  <span class="token punctuation">)</span>   <span class="token punctuation">:</span> redSprite <span class="token operator">=</span> <span class="token function">klondikeSprite</span><span class="token punctuation">(</span>x1<span class="token punctuation">,</span> y1<span class="token punctuation">,</span> w<span class="token punctuation">,</span> h<span class="token punctuation">)</span><span class="token punctuation">,</span>
        blackSprite <span class="token operator">=</span> <span class="token function">klondikeSprite</span><span class="token punctuation">(</span>x2<span class="token punctuation">,</span> y2<span class="token punctuation">,</span> w<span class="token punctuation">,</span> h<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">final</span> int value<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">String</span> label<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">Sprite</span> redSprite<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">Sprite</span> blackSprite<span class="token punctuation">;</span>

  <span class="token keyword">static</span> late <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Rank</span><span class="token punctuation">&gt;</span></span> _singletons <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token class-name">Rank</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;A&#39;</span></span><span class="token punctuation">,</span> <span class="token number">335</span><span class="token punctuation">,</span> <span class="token number">164</span><span class="token punctuation">,</span> <span class="token number">789</span><span class="token punctuation">,</span> <span class="token number">161</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">129</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Rank</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;2&#39;</span></span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">322</span><span class="token punctuation">,</span> <span class="token number">83</span><span class="token punctuation">,</span> <span class="token number">125</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Rank</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;3&#39;</span></span><span class="token punctuation">,</span> <span class="token number">122</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">117</span><span class="token punctuation">,</span> <span class="token number">322</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">127</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Rank</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;4&#39;</span></span><span class="token punctuation">,</span> <span class="token number">213</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">208</span><span class="token punctuation">,</span> <span class="token number">315</span><span class="token punctuation">,</span> <span class="token number">93</span><span class="token punctuation">,</span> <span class="token number">132</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Rank</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;5&#39;</span></span><span class="token punctuation">,</span> <span class="token number">314</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">309</span><span class="token punctuation">,</span> <span class="token number">324</span><span class="token punctuation">,</span> <span class="token number">85</span><span class="token punctuation">,</span> <span class="token number">125</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Rank</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;6&#39;</span></span><span class="token punctuation">,</span> <span class="token number">419</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">414</span><span class="token punctuation">,</span> <span class="token number">320</span><span class="token punctuation">,</span> <span class="token number">84</span><span class="token punctuation">,</span> <span class="token number">129</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Rank</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;7&#39;</span></span><span class="token punctuation">,</span> <span class="token number">509</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">505</span><span class="token punctuation">,</span> <span class="token number">324</span><span class="token punctuation">,</span> <span class="token number">92</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Rank</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;8&#39;</span></span><span class="token punctuation">,</span> <span class="token number">612</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">607</span><span class="token punctuation">,</span> <span class="token number">322</span><span class="token punctuation">,</span> <span class="token number">78</span><span class="token punctuation">,</span> <span class="token number">127</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Rank</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;9&#39;</span></span><span class="token punctuation">,</span> <span class="token number">709</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">704</span><span class="token punctuation">,</span> <span class="token number">322</span><span class="token punctuation">,</span> <span class="token number">84</span><span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Rank</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;10&#39;</span></span><span class="token punctuation">,</span> <span class="token number">810</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">805</span><span class="token punctuation">,</span> <span class="token number">322</span><span class="token punctuation">,</span> <span class="token number">137</span><span class="token punctuation">,</span> <span class="token number">127</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Rank</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;J&#39;</span></span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">170</span><span class="token punctuation">,</span> <span class="token number">469</span><span class="token punctuation">,</span> <span class="token number">167</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> <span class="token number">126</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Rank</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;Q&#39;</span></span><span class="token punctuation">,</span> <span class="token number">92</span><span class="token punctuation">,</span> <span class="token number">168</span><span class="token punctuation">,</span> <span class="token number">547</span><span class="token punctuation">,</span> <span class="token number">165</span><span class="token punctuation">,</span> <span class="token number">132</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Rank</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;K&#39;</span></span><span class="token punctuation">,</span> <span class="token number">243</span><span class="token punctuation">,</span> <span class="token number">170</span><span class="token punctuation">,</span> <span class="token number">696</span><span class="token punctuation">,</span> <span class="token number">167</span><span class="token punctuation">,</span> <span class="token number">92</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="卡片组件" tabindex="-1"><a class="header-anchor" href="#卡片组件" aria-hidden="true">#</a> 卡片组件</h2><p>现在我们有了 <code>Rank</code> 和 <code>Suit</code> 类，我们终于可以开始实现 <code>Card</code> 组件了。创建文件 <code>components/Card.dart</code> 并声明从 PositionComponent 扩展的 <code>Card</code> 类:</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">Card</span> <span class="token keyword">extends</span> <span class="token class-name">PositionComponent</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>该类的构造函数将采用整数等级和花色，并使卡片最初面朝下。 此外，我们将组件的大小初始化为等于 <code>KlondikeGame</code> 类中定义的 <code>cardSize</code> 常量：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token class-name">Card</span><span class="token punctuation">(</span>int intRank<span class="token punctuation">,</span> int intSuit<span class="token punctuation">)</span>
    <span class="token punctuation">:</span> rank <span class="token operator">=</span> <span class="token class-name">Rank</span><span class="token punctuation">.</span><span class="token function">fromInt</span><span class="token punctuation">(</span>intRank<span class="token punctuation">)</span><span class="token punctuation">,</span>
      suit <span class="token operator">=</span> <span class="token class-name">Suit</span><span class="token punctuation">.</span><span class="token function">fromInt</span><span class="token punctuation">(</span>intSuit<span class="token punctuation">)</span><span class="token punctuation">,</span>
      _faceUp <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token keyword">super</span><span class="token punctuation">(</span>size<span class="token punctuation">:</span> <span class="token class-name">KlondikeGame</span><span class="token punctuation">.</span>cardSize<span class="token punctuation">)</span><span class="token punctuation">;</span>
      
<span class="token keyword">final</span> <span class="token class-name">Rank</span> rank<span class="token punctuation">;</span>
<span class="token keyword">final</span> <span class="token class-name">Suit</span> suit<span class="token punctuation">;</span>
bool _faceUp<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>_faceUp 属性是私有的（由下划线表示），并且是非final的，这意味着它可以在一张卡的生命周期内更改。我们应该为这个变量创建一些公共访问器和修改器：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>bool <span class="token keyword">get</span> isFaceUp <span class="token operator">=</span><span class="token operator">&gt;</span> _faceUp<span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">flip</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> _faceUp <span class="token operator">=</span> <span class="token operator">!</span>_faceUp<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>最后，让我们添加一个简单的toString()实现，当我们需要调试游戏时，它可能会变得很有用：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token metadata function">@override</span>
<span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> rank<span class="token punctuation">.</span>label <span class="token operator">+</span> suit<span class="token punctuation">.</span>label<span class="token punctuation">;</span> <span class="token comment">// e.g. &quot;Q♠&quot; or &quot;10♦&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>在我们继续实现渲染之前，我们需要在游戏中添加一些卡片。转到 <code>KlondikeGame</code> 类，在 <code>onLoad</code> 方法的底部添加以下内容：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">final</span> random <span class="token operator">=</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">7</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> card <span class="token operator">=</span> <span class="token class-name">Card</span><span class="token punctuation">(</span>random<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> random<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token class-name">Vector2</span><span class="token punctuation">(</span><span class="token number">100</span> <span class="token operator">+</span> i <span class="token operator">*</span> <span class="token number">1150</span><span class="token punctuation">,</span> <span class="token number">100</span> <span class="token operator">+</span> j <span class="token operator">*</span> <span class="token number">1500</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token function">addToParent</span><span class="token punctuation">(</span>world<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>random<span class="token punctuation">.</span><span class="token function">nextDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0.9</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// flip face up with 90% probability</span>
      card<span class="token punctuation">.</span><span class="token function">flip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这个代码片段是一个临时代码——我们将在下一章中删除它——但是现在它在桌面上随机放置了28张牌，大多数都是面朝上的。</p><h3 id="渲染" tabindex="-1"><a class="header-anchor" href="#渲染" aria-hidden="true">#</a> 渲染</h3><p>为了能够看到一张卡片，我们需要实现它的 <code>render()</code> 方法。由于卡有两个不同的状态——正面朝上或者正面朝下——我们将分别为这两个状态实现渲染。在 <code>Card</code> 类中添加以下方法：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token metadata function">@override</span>
<span class="token keyword">void</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token class-name">Canvas</span> canvas<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>_faceUp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">_renderFront</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">_renderBack</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">_renderFront</span><span class="token punctuation">(</span><span class="token class-name">Canvas</span> canvas<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">_renderBack</span><span class="token punctuation">(</span><span class="token class-name">Canvas</span> canvas<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="renderback" tabindex="-1"><a class="header-anchor" href="#renderback" aria-hidden="true">#</a> renderBack()</h3><p>由于渲染卡片的背面比较简单，所以我们将首先进行渲染。</p><p><code>PositionComponent</code> 的 <code>render()</code> 方法在局部坐标系统中运行，这意味着我们不需要担心卡片在屏幕上的位置。这个局部坐标系统的原点位于组件的左上角，并按宽度向右扩展，按高度向下扩展像素。</p><p>在如何绘制卡片背面方面有很多艺术自由，但我的实现包含了一个坚实的背景、一个边框、中间的 Flame 标志和另一个装饰边框：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">void</span> <span class="token function">_renderBack</span><span class="token punctuation">(</span><span class="token class-name">Canvas</span> canvas<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  canvas<span class="token punctuation">.</span><span class="token function">drawRRect</span><span class="token punctuation">(</span>cardRRect<span class="token punctuation">,</span> backBackgroundPaint<span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span><span class="token function">drawRRect</span><span class="token punctuation">(</span>cardRRect<span class="token punctuation">,</span> backBorderPaint1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span><span class="token function">drawRRect</span><span class="token punctuation">(</span>backRRectInner<span class="token punctuation">,</span> backBorderPaint2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  flameSprite<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> position<span class="token punctuation">:</span> size <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> anchor<span class="token punctuation">:</span> <span class="token class-name">Anchor</span><span class="token punctuation">.</span>center<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这里最有趣的部分是精灵图的渲染：我们希望以中间 <code>(size/2)</code> 渲染它，我们使用 <code>Anchor.center</code> 来告诉引擎我们希望精灵的中心位于那一点。</p><p><code>_ renderBack()</code> 方法中使用的各种属性定义如下：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Paint</span> backBackgroundPaint <span class="token operator">=</span> <span class="token class-name">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">0xff380c02</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Paint</span> backBorderPaint1 <span class="token operator">=</span> <span class="token class-name">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">0xffdbaf58</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span>style <span class="token operator">=</span> <span class="token class-name">PaintingStyle</span><span class="token punctuation">.</span>stroke
  <span class="token punctuation">.</span><span class="token punctuation">.</span>strokeWidth <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Paint</span> backBorderPaint2 <span class="token operator">=</span> <span class="token class-name">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">0x5CEF971B</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span>style <span class="token operator">=</span> <span class="token class-name">PaintingStyle</span><span class="token punctuation">.</span>stroke
  <span class="token punctuation">.</span><span class="token punctuation">.</span>strokeWidth <span class="token operator">=</span> <span class="token number">35</span><span class="token punctuation">;</span>
<span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">RRect</span> cardRRect <span class="token operator">=</span> <span class="token class-name">RRect</span><span class="token punctuation">.</span><span class="token function">fromRectAndRadius</span><span class="token punctuation">(</span>
  <span class="token class-name">KlondikeGame</span><span class="token punctuation">.</span>cardSize<span class="token punctuation">.</span><span class="token function">toRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">const</span> <span class="token class-name">Radius</span><span class="token punctuation">.</span><span class="token function">circular</span><span class="token punctuation">(</span><span class="token class-name">KlondikeGame</span><span class="token punctuation">.</span>cardRadius<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">RRect</span> backRRectInner <span class="token operator">=</span> cardRRect<span class="token punctuation">.</span><span class="token function">deflate</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">static</span> late <span class="token keyword">final</span> <span class="token class-name">Sprite</span> flameSprite <span class="token operator">=</span> <span class="token function">klondikeSprite</span><span class="token punctuation">(</span><span class="token number">1367</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">357</span><span class="token punctuation">,</span> <span class="token number">501</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>我将这些属性声明为静态的，因为它们在所有52个卡片对象中都是相同的，所以我们不妨通过只初始化它们一次来节省一些资源。</p><h3 id="renderfront" tabindex="-1"><a class="header-anchor" href="#renderfront" aria-hidden="true">#</a> renderFront()</h3><p>当渲染一张卡片的正面时，我们将遵循标准的卡片设计：在两个相对的角落中的等级和花色，加上等于等级值的点数。纸牌（杰克、王后、国王）将在中间有特殊的图像。</p><p>与前面一样，我们首先声明一些将用于呈现的常量。一张卡片的背景将是黑色的，而边框将根据卡片是“红”花色还是“黑”花色而有所不同:</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Paint</span> frontBackgroundPaint <span class="token operator">=</span> <span class="token class-name">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">0xff000000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Paint</span> redBorderPaint <span class="token operator">=</span> <span class="token class-name">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">0xffece8a3</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span>style <span class="token operator">=</span> <span class="token class-name">PaintingStyle</span><span class="token punctuation">.</span>stroke
  <span class="token punctuation">.</span><span class="token punctuation">.</span>strokeWidth <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Paint</span> blackBorderPaint <span class="token operator">=</span> <span class="token class-name">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">0xff7ab2e8</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span>style <span class="token operator">=</span> <span class="token class-name">PaintingStyle</span><span class="token punctuation">.</span>stroke
  <span class="token punctuation">.</span><span class="token punctuation">.</span>strokeWidth <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>接下来，我们还需要纸牌上的图：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">static</span> late <span class="token keyword">final</span> <span class="token class-name">Sprite</span> redJack <span class="token operator">=</span> <span class="token function">klondikeSprite</span><span class="token punctuation">(</span><span class="token number">81</span><span class="token punctuation">,</span> <span class="token number">565</span><span class="token punctuation">,</span> <span class="token number">562</span><span class="token punctuation">,</span> <span class="token number">488</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">static</span> late <span class="token keyword">final</span> <span class="token class-name">Sprite</span> redQueen <span class="token operator">=</span> <span class="token function">klondikeSprite</span><span class="token punctuation">(</span><span class="token number">717</span><span class="token punctuation">,</span> <span class="token number">541</span><span class="token punctuation">,</span> <span class="token number">486</span><span class="token punctuation">,</span> <span class="token number">515</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">static</span> late <span class="token keyword">final</span> <span class="token class-name">Sprite</span> redKing <span class="token operator">=</span> <span class="token function">klondikeSprite</span><span class="token punctuation">(</span><span class="token number">1305</span><span class="token punctuation">,</span> <span class="token number">532</span><span class="token punctuation">,</span> <span class="token number">407</span><span class="token punctuation">,</span> <span class="token number">549</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>请注意，我将这些精灵称为 <code>redJack</code>、<code>redQueen</code> 和 <code>redKing</code>。 这是因为，经过一番尝试，我发现我的图像在黑套装卡上看起来不太好。 所以我决定做的是拍摄这些图像并用蓝色调给它们着色。 可以通过使用将 <code>colorFilter</code> 设置为指定颜色和 <code>srcATop</code> 混合模式的绘制来实现精灵的着色：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">static</span> <span class="token keyword">final</span> blueFilter <span class="token operator">=</span> <span class="token class-name">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span>colorFilter <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token class-name">ColorFilter</span><span class="token punctuation">.</span><span class="token function">mode</span><span class="token punctuation">(</span>
    <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">0x880d8bff</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">BlendMode</span><span class="token punctuation">.</span>srcATop<span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">static</span> late <span class="token keyword">final</span> <span class="token class-name">Sprite</span> blackJack <span class="token operator">=</span> <span class="token function">klondikeSprite</span><span class="token punctuation">(</span><span class="token number">81</span><span class="token punctuation">,</span> <span class="token number">565</span><span class="token punctuation">,</span> <span class="token number">562</span><span class="token punctuation">,</span> <span class="token number">488</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span>paint <span class="token operator">=</span> blueFilter<span class="token punctuation">;</span>
<span class="token keyword">static</span> late <span class="token keyword">final</span> <span class="token class-name">Sprite</span> blackQueen <span class="token operator">=</span> <span class="token function">klondikeSprite</span><span class="token punctuation">(</span><span class="token number">717</span><span class="token punctuation">,</span> <span class="token number">541</span><span class="token punctuation">,</span> <span class="token number">486</span><span class="token punctuation">,</span> <span class="token number">515</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span>paint <span class="token operator">=</span> blueFilter<span class="token punctuation">;</span>
<span class="token keyword">static</span> late <span class="token keyword">final</span> <span class="token class-name">Sprite</span> blackKing <span class="token operator">=</span> <span class="token function">klondikeSprite</span><span class="token punctuation">(</span><span class="token number">1305</span><span class="token punctuation">,</span> <span class="token number">532</span><span class="token punctuation">,</span> <span class="token number">407</span><span class="token punctuation">,</span> <span class="token number">549</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span>paint <span class="token operator">=</span> blueFilter<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>现在我们可以开始对 <code>render</code> 方法本身进行代码编写：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">void</span> <span class="token function">_renderFront</span><span class="token punctuation">(</span><span class="token class-name">Canvas</span> canvas<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  canvas<span class="token punctuation">.</span><span class="token function">drawRRect</span><span class="token punctuation">(</span>cardRRect<span class="token punctuation">,</span> frontBackgroundPaint<span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span><span class="token function">drawRRect</span><span class="token punctuation">(</span>
    cardRRect<span class="token punctuation">,</span>
    suit<span class="token punctuation">.</span>isRed <span class="token operator">?</span> redBorderPaint <span class="token punctuation">:</span> blackBorderPaint<span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>为了画出卡片的其余部分，我还需要一种辅助方法。 此方法将在指定位置（该位置相对于卡片的尺寸）在画布上绘制提供的精灵图。精灵图可以随意缩放。此外，如果传递了标致 <code>rotate=true</code>，那么精灵图将被绘制成围绕纸牌中心旋转180度的样子</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">void</span> <span class="token function">_drawSprite</span><span class="token punctuation">(</span>
  <span class="token class-name">Canvas</span> canvas<span class="token punctuation">,</span>
  <span class="token class-name">Sprite</span> sprite<span class="token punctuation">,</span>
  double relativeX<span class="token punctuation">,</span>
  double relativeY<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  double scale <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
  bool rotate <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>rotate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    canvas<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span>size<span class="token punctuation">.</span>x <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> size<span class="token punctuation">.</span>y <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span>pi<span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token operator">-</span>size<span class="token punctuation">.</span>x <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span>size<span class="token punctuation">.</span>y <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  sprite<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
    canvas<span class="token punctuation">,</span>
    position<span class="token punctuation">:</span> <span class="token class-name">Vector2</span><span class="token punctuation">(</span>relativeX <span class="token operator">*</span> size<span class="token punctuation">.</span>x<span class="token punctuation">,</span> relativeY <span class="token operator">*</span> size<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">,</span>
    anchor<span class="token punctuation">:</span> <span class="token class-name">Anchor</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>
    size<span class="token punctuation">:</span> sprite<span class="token punctuation">.</span>srcSize<span class="token punctuation">.</span><span class="token function">scaled</span><span class="token punctuation">(</span>scale<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>rotate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    canvas<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>让我们在牌的角落画出等级和花色符号。向 <code>_ renderFront()</code> 方法添加以下内容：</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">final</span> rankSprite <span class="token operator">=</span> suit<span class="token punctuation">.</span>isBlack <span class="token operator">?</span> rank<span class="token punctuation">.</span>blackSprite <span class="token punctuation">:</span> rank<span class="token punctuation">.</span>redSprite<span class="token punctuation">;</span>
<span class="token keyword">final</span> suitSprite <span class="token operator">=</span> suit<span class="token punctuation">.</span>sprite<span class="token punctuation">;</span>
<span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> rankSprite<span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">0.08</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> rankSprite<span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">0.08</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">0.18</span><span class="token punctuation">,</span> scale<span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">0.18</span><span class="token punctuation">,</span> scale<span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>卡片的中间部分以同样的方式呈现：我们将创建一个关于卡片等级的大switch语句，并相应地绘制点数。面的代码可能看起来很长，但实际上相当一部分是重复的，它只是在卡片表面的不同位置绘制不同的精灵图。</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">switch</span> <span class="token punctuation">(</span>rank<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">case</span> <span class="token number">1</span><span class="token punctuation">:</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> scale<span class="token punctuation">:</span> <span class="token number">2.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> <span class="token number">2</span><span class="token punctuation">:</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> <span class="token number">3</span><span class="token punctuation">:</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> <span class="token number">4</span><span class="token punctuation">:</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> <span class="token number">5</span><span class="token punctuation">:</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> <span class="token number">6</span><span class="token punctuation">:</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> <span class="token number">7</span><span class="token punctuation">:</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.35</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> <span class="token number">8</span><span class="token punctuation">:</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.35</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.35</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> <span class="token number">9</span><span class="token punctuation">:</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> <span class="token number">10</span><span class="token punctuation">:</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> <span class="token number">11</span><span class="token punctuation">:</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suit<span class="token punctuation">.</span>isRed<span class="token operator">?</span> redJack <span class="token punctuation">:</span> blackJack<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> <span class="token number">12</span><span class="token punctuation">:</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suit<span class="token punctuation">.</span>isRed<span class="token operator">?</span> redQueen <span class="token punctuation">:</span> blackQueen<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> <span class="token number">13</span><span class="token punctuation">:</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suit<span class="token punctuation">.</span>isRed<span class="token operator">?</span> redKing <span class="token punctuation">:</span> blackKing<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这就是卡片组件的渲染图。如果您现在运行代码，您将看到四行卡片整齐地分布在桌面上。刷新页面将放置一组新的卡片。请记住，我们只是以这种方式暂时放置这些牌，以便能够检查渲染是否正常工作。</p><p>在下一章，我们将讨论如何实现与卡片的交互，也就是说，如何使它们可拖动和可伸缩。</p><h2 id="代码" tabindex="-1"><a class="header-anchor" href="#代码" aria-hidden="true">#</a> 代码</h2><p><em>components/card.dart</em></p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;dart:math&#39;</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;dart:ui&#39;</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;package:flame/components.dart&#39;</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;../klondike_game.dart&#39;</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;../rank.dart&#39;</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;../suit.dart&#39;</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Card</span> <span class="token keyword">extends</span> <span class="token class-name">PositionComponent</span> <span class="token punctuation">{</span>
  <span class="token class-name">Card</span><span class="token punctuation">(</span>int intRank<span class="token punctuation">,</span> int intSuit<span class="token punctuation">)</span>
      <span class="token punctuation">:</span> rank <span class="token operator">=</span> <span class="token class-name">Rank</span><span class="token punctuation">.</span><span class="token function">fromInt</span><span class="token punctuation">(</span>intRank<span class="token punctuation">)</span><span class="token punctuation">,</span>
        suit <span class="token operator">=</span> <span class="token class-name">Suit</span><span class="token punctuation">.</span><span class="token function">fromInt</span><span class="token punctuation">(</span>intSuit<span class="token punctuation">)</span><span class="token punctuation">,</span>
        _faceUp <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>size<span class="token punctuation">:</span> <span class="token class-name">KlondikeGame</span><span class="token punctuation">.</span>cardSize<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">final</span> <span class="token class-name">Rank</span> rank<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">Suit</span> suit<span class="token punctuation">;</span>
  bool _faceUp<span class="token punctuation">;</span>

  bool <span class="token keyword">get</span> isFaceUp <span class="token operator">=</span><span class="token operator">&gt;</span> _faceUp<span class="token punctuation">;</span>
  <span class="token keyword">void</span> <span class="token function">flip</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> _faceUp <span class="token operator">=</span> <span class="token operator">!</span>_faceUp<span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> rank<span class="token punctuation">.</span>label <span class="token operator">+</span> suit<span class="token punctuation">.</span>label<span class="token punctuation">;</span> <span class="token comment">// e.g. &quot;Q♠&quot; or &quot;10♦&quot;</span>

  <span class="token metadata function">@override</span>
  <span class="token keyword">void</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token class-name">Canvas</span> canvas<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>_faceUp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">_renderFront</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token function">_renderBack</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Paint</span> backBackgroundPaint <span class="token operator">=</span> <span class="token class-name">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">0xff380c02</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Paint</span> backBorderPaint1 <span class="token operator">=</span> <span class="token class-name">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">0xffdbaf58</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span>style <span class="token operator">=</span> <span class="token class-name">PaintingStyle</span><span class="token punctuation">.</span>stroke
    <span class="token punctuation">.</span><span class="token punctuation">.</span>strokeWidth <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Paint</span> backBorderPaint2 <span class="token operator">=</span> <span class="token class-name">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">0x5CEF971B</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span>style <span class="token operator">=</span> <span class="token class-name">PaintingStyle</span><span class="token punctuation">.</span>stroke
    <span class="token punctuation">.</span><span class="token punctuation">.</span>strokeWidth <span class="token operator">=</span> <span class="token number">35</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">RRect</span> cardRRect <span class="token operator">=</span> <span class="token class-name">RRect</span><span class="token punctuation">.</span><span class="token function">fromRectAndRadius</span><span class="token punctuation">(</span>
    <span class="token class-name">KlondikeGame</span><span class="token punctuation">.</span>cardSize<span class="token punctuation">.</span><span class="token function">toRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">const</span> <span class="token class-name">Radius</span><span class="token punctuation">.</span><span class="token function">circular</span><span class="token punctuation">(</span><span class="token class-name">KlondikeGame</span><span class="token punctuation">.</span>cardRadius<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">RRect</span> backRRectInner <span class="token operator">=</span> cardRRect<span class="token punctuation">.</span><span class="token function">deflate</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> late <span class="token keyword">final</span> <span class="token class-name">Sprite</span> flameSprite <span class="token operator">=</span> <span class="token function">klondikeSprite</span><span class="token punctuation">(</span><span class="token number">1367</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">357</span><span class="token punctuation">,</span> <span class="token number">501</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">void</span> <span class="token function">_renderBack</span><span class="token punctuation">(</span><span class="token class-name">Canvas</span> canvas<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    canvas<span class="token punctuation">.</span><span class="token function">drawRRect</span><span class="token punctuation">(</span>cardRRect<span class="token punctuation">,</span> backBackgroundPaint<span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span><span class="token function">drawRRect</span><span class="token punctuation">(</span>cardRRect<span class="token punctuation">,</span> backBorderPaint1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span><span class="token function">drawRRect</span><span class="token punctuation">(</span>backRRectInner<span class="token punctuation">,</span> backBorderPaint2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    flameSprite<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> position<span class="token punctuation">:</span> size <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> anchor<span class="token punctuation">:</span> <span class="token class-name">Anchor</span><span class="token punctuation">.</span>center<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Paint</span> frontBackgroundPaint <span class="token operator">=</span> <span class="token class-name">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">0xff000000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Paint</span> redBorderPaint <span class="token operator">=</span> <span class="token class-name">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">0xffece8a3</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span>style <span class="token operator">=</span> <span class="token class-name">PaintingStyle</span><span class="token punctuation">.</span>stroke
    <span class="token punctuation">.</span><span class="token punctuation">.</span>strokeWidth <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Paint</span> blackBorderPaint <span class="token operator">=</span> <span class="token class-name">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">0xff7ab2e8</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span>style <span class="token operator">=</span> <span class="token class-name">PaintingStyle</span><span class="token punctuation">.</span>stroke
    <span class="token punctuation">.</span><span class="token punctuation">.</span>strokeWidth <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> <span class="token keyword">final</span> blueFilter <span class="token operator">=</span> <span class="token class-name">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span>colorFilter <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token class-name">ColorFilter</span><span class="token punctuation">.</span><span class="token function">mode</span><span class="token punctuation">(</span>
      <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">0x880d8bff</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token class-name">BlendMode</span><span class="token punctuation">.</span>srcATop<span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> late <span class="token keyword">final</span> <span class="token class-name">Sprite</span> redJack <span class="token operator">=</span> <span class="token function">klondikeSprite</span><span class="token punctuation">(</span><span class="token number">81</span><span class="token punctuation">,</span> <span class="token number">565</span><span class="token punctuation">,</span> <span class="token number">562</span><span class="token punctuation">,</span> <span class="token number">488</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> late <span class="token keyword">final</span> <span class="token class-name">Sprite</span> redQueen <span class="token operator">=</span> <span class="token function">klondikeSprite</span><span class="token punctuation">(</span><span class="token number">717</span><span class="token punctuation">,</span> <span class="token number">541</span><span class="token punctuation">,</span> <span class="token number">486</span><span class="token punctuation">,</span> <span class="token number">515</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> late <span class="token keyword">final</span> <span class="token class-name">Sprite</span> redKing <span class="token operator">=</span> <span class="token function">klondikeSprite</span><span class="token punctuation">(</span><span class="token number">1305</span><span class="token punctuation">,</span> <span class="token number">532</span><span class="token punctuation">,</span> <span class="token number">407</span><span class="token punctuation">,</span> <span class="token number">549</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> late <span class="token keyword">final</span> <span class="token class-name">Sprite</span> blackJack <span class="token operator">=</span> <span class="token function">klondikeSprite</span><span class="token punctuation">(</span><span class="token number">81</span><span class="token punctuation">,</span> <span class="token number">565</span><span class="token punctuation">,</span> <span class="token number">562</span><span class="token punctuation">,</span> <span class="token number">488</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span>paint <span class="token operator">=</span> blueFilter<span class="token punctuation">;</span>
  <span class="token keyword">static</span> late <span class="token keyword">final</span> <span class="token class-name">Sprite</span> blackQueen <span class="token operator">=</span> <span class="token function">klondikeSprite</span><span class="token punctuation">(</span><span class="token number">717</span><span class="token punctuation">,</span> <span class="token number">541</span><span class="token punctuation">,</span> <span class="token number">486</span><span class="token punctuation">,</span> <span class="token number">515</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span>paint <span class="token operator">=</span> blueFilter<span class="token punctuation">;</span>
  <span class="token keyword">static</span> late <span class="token keyword">final</span> <span class="token class-name">Sprite</span> blackKing <span class="token operator">=</span> <span class="token function">klondikeSprite</span><span class="token punctuation">(</span><span class="token number">1305</span><span class="token punctuation">,</span> <span class="token number">532</span><span class="token punctuation">,</span> <span class="token number">407</span><span class="token punctuation">,</span> <span class="token number">549</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span>paint <span class="token operator">=</span> blueFilter<span class="token punctuation">;</span>

  <span class="token keyword">void</span> <span class="token function">_renderFront</span><span class="token punctuation">(</span><span class="token class-name">Canvas</span> canvas<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    canvas<span class="token punctuation">.</span><span class="token function">drawRRect</span><span class="token punctuation">(</span>cardRRect<span class="token punctuation">,</span> frontBackgroundPaint<span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span><span class="token function">drawRRect</span><span class="token punctuation">(</span>
      cardRRect<span class="token punctuation">,</span>
      suit<span class="token punctuation">.</span>isRed <span class="token operator">?</span> redBorderPaint <span class="token punctuation">:</span> blackBorderPaint<span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">final</span> rankSprite <span class="token operator">=</span> suit<span class="token punctuation">.</span>isBlack <span class="token operator">?</span> rank<span class="token punctuation">.</span>blackSprite <span class="token punctuation">:</span> rank<span class="token punctuation">.</span>redSprite<span class="token punctuation">;</span>
    <span class="token keyword">final</span> suitSprite <span class="token operator">=</span> suit<span class="token punctuation">.</span>sprite<span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> rankSprite<span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">0.08</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">0.18</span><span class="token punctuation">,</span> scale<span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> rankSprite<span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">0.08</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">0.18</span><span class="token punctuation">,</span> scale<span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>rank<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token number">1</span><span class="token punctuation">:</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> scale<span class="token punctuation">:</span> <span class="token number">2.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token number">2</span><span class="token punctuation">:</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token number">3</span><span class="token punctuation">:</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token number">4</span><span class="token punctuation">:</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token number">5</span><span class="token punctuation">:</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token number">6</span><span class="token punctuation">:</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token number">7</span><span class="token punctuation">:</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.35</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token number">8</span><span class="token punctuation">:</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.35</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.35</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token number">9</span><span class="token punctuation">:</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token number">10</span><span class="token punctuation">:</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suitSprite<span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">,</span> rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token number">11</span><span class="token punctuation">:</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suit<span class="token punctuation">.</span>isRed <span class="token operator">?</span> redJack <span class="token punctuation">:</span> blackJack<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token number">12</span><span class="token punctuation">:</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suit<span class="token punctuation">.</span>isRed <span class="token operator">?</span> redQueen <span class="token punctuation">:</span> blackQueen<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token number">13</span><span class="token punctuation">:</span>
        <span class="token function">_drawSprite</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> suit<span class="token punctuation">.</span>isRed <span class="token operator">?</span> redKing <span class="token punctuation">:</span> blackKing<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">void</span> <span class="token function">_drawSprite</span><span class="token punctuation">(</span>
    <span class="token class-name">Canvas</span> canvas<span class="token punctuation">,</span>
    <span class="token class-name">Sprite</span> sprite<span class="token punctuation">,</span>
    double relativeX<span class="token punctuation">,</span>
    double relativeY<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    double scale <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
    bool rotate <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>rotate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      canvas<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      canvas<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span>size<span class="token punctuation">.</span>x <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> size<span class="token punctuation">.</span>y <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      canvas<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span>pi<span class="token punctuation">)</span><span class="token punctuation">;</span>
      canvas<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token operator">-</span>size<span class="token punctuation">.</span>x <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span>size<span class="token punctuation">.</span>y <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    sprite<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
      canvas<span class="token punctuation">,</span>
      position<span class="token punctuation">:</span> <span class="token class-name">Vector2</span><span class="token punctuation">(</span>relativeX <span class="token operator">*</span> size<span class="token punctuation">.</span>x<span class="token punctuation">,</span> relativeY <span class="token operator">*</span> size<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">,</span>
      anchor<span class="token punctuation">:</span> <span class="token class-name">Anchor</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>
      size<span class="token punctuation">:</span> sprite<span class="token punctuation">.</span>srcSize<span class="token punctuation">.</span><span class="token function">scaled</span><span class="token punctuation">(</span>scale<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>rotate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      canvas<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><em>components/foundation.dart</em></p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;package:flame/components.dart&#39;</span></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Foundation</span> <span class="token keyword">extends</span> <span class="token class-name">PositionComponent</span> <span class="token punctuation">{</span>
  <span class="token metadata function">@override</span>
  bool <span class="token keyword">get</span> debugMode <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><em>components/pile.dart</em></p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;package:flame/components.dart&#39;</span></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Pile</span> <span class="token keyword">extends</span> <span class="token class-name">PositionComponent</span> <span class="token punctuation">{</span>
  <span class="token metadata function">@override</span>
  bool <span class="token keyword">get</span> debugMode <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><em>components/stock.dart</em></p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;package:flame/components.dart&#39;</span></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Stock</span> <span class="token keyword">extends</span> <span class="token class-name">PositionComponent</span> <span class="token punctuation">{</span>
  <span class="token metadata function">@override</span>
  bool <span class="token keyword">get</span> debugMode <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><em>components/waste.dart</em></p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;package:flame/components.dart&#39;</span></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Waste</span> <span class="token keyword">extends</span> <span class="token class-name">PositionComponent</span> <span class="token punctuation">{</span>
  <span class="token metadata function">@override</span>
  bool <span class="token keyword">get</span> debugMode <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><em>klondike_game.dart</em></p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;dart:math&#39;</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;package:flame/components.dart&#39;</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;package:flame/experimental.dart&#39;</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;package:flame/flame.dart&#39;</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;package:flame/game.dart&#39;</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;components/card.dart&#39;</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;components/foundation.dart&#39;</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;components/pile.dart&#39;</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;components/stock.dart&#39;</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;components/waste.dart&#39;</span></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">KlondikeGame</span> <span class="token keyword">extends</span> <span class="token class-name">FlameGame</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token keyword">const</span> double cardGap <span class="token operator">=</span> <span class="token number">175.0</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> <span class="token keyword">const</span> double cardWidth <span class="token operator">=</span> <span class="token number">1000.0</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> <span class="token keyword">const</span> double cardHeight <span class="token operator">=</span> <span class="token number">1400.0</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> <span class="token keyword">const</span> double cardRadius <span class="token operator">=</span> <span class="token number">100.0</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Vector2</span> cardSize <span class="token operator">=</span> <span class="token class-name">Vector2</span><span class="token punctuation">(</span>cardWidth<span class="token punctuation">,</span> cardHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span> <span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> <span class="token class-name">Flame</span><span class="token punctuation">.</span>images<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;klondike-sprites.png&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">final</span> stock <span class="token operator">=</span> <span class="token class-name">Stock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token punctuation">.</span>size <span class="token operator">=</span> cardSize
      <span class="token punctuation">.</span><span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token class-name">Vector2</span><span class="token punctuation">(</span>cardGap<span class="token punctuation">,</span> cardGap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> waste <span class="token operator">=</span> <span class="token class-name">Waste</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token punctuation">.</span>size <span class="token operator">=</span> cardSize
      <span class="token punctuation">.</span><span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token class-name">Vector2</span><span class="token punctuation">(</span>cardWidth <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">*</span> cardGap<span class="token punctuation">,</span> cardGap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> foundations <span class="token operator">=</span> <span class="token class-name">List</span><span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span>
      <span class="token number">4</span><span class="token punctuation">,</span>
      <span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">Foundation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span>size <span class="token operator">=</span> cardSize
        <span class="token punctuation">.</span><span class="token punctuation">.</span>position <span class="token operator">=</span>
            <span class="token class-name">Vector2</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>cardWidth <span class="token operator">+</span> cardGap<span class="token punctuation">)</span> <span class="token operator">+</span> cardGap<span class="token punctuation">,</span> cardGap<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> piles <span class="token operator">=</span> <span class="token class-name">List</span><span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span>
      <span class="token number">7</span><span class="token punctuation">,</span>
      <span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">Pile</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span>size <span class="token operator">=</span> cardSize
        <span class="token punctuation">.</span><span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token class-name">Vector2</span><span class="token punctuation">(</span>
          cardGap <span class="token operator">+</span> i <span class="token operator">*</span> <span class="token punctuation">(</span>cardWidth <span class="token operator">+</span> cardGap<span class="token punctuation">)</span><span class="token punctuation">,</span>
          cardHeight <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">*</span> cardGap<span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">final</span> world <span class="token operator">=</span> <span class="token class-name">World</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>stock<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>waste<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>foundations<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>piles<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">add</span><span class="token punctuation">(</span>world<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">final</span> camera <span class="token operator">=</span> <span class="token class-name">CameraComponent</span><span class="token punctuation">(</span>world<span class="token punctuation">:</span> world<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token punctuation">.</span>viewfinder<span class="token punctuation">.</span>visibleGameSize <span class="token operator">=</span>
          <span class="token class-name">Vector2</span><span class="token punctuation">(</span>cardWidth <span class="token operator">*</span> <span class="token number">7</span> <span class="token operator">+</span> cardGap <span class="token operator">*</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token operator">*</span> cardHeight <span class="token operator">+</span> <span class="token number">3</span> <span class="token operator">*</span> cardGap<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token punctuation">.</span>viewfinder<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token class-name">Vector2</span><span class="token punctuation">(</span>cardWidth <span class="token operator">*</span> <span class="token number">3.5</span> <span class="token operator">+</span> cardGap <span class="token operator">*</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token punctuation">.</span>viewfinder<span class="token punctuation">.</span>anchor <span class="token operator">=</span> <span class="token class-name">Anchor</span><span class="token punctuation">.</span>topCenter<span class="token punctuation">;</span>
    <span class="token function">add</span><span class="token punctuation">(</span>camera<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">final</span> random <span class="token operator">=</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">7</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">final</span> card <span class="token operator">=</span> <span class="token class-name">Card</span><span class="token punctuation">(</span>random<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> random<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token class-name">Vector2</span><span class="token punctuation">(</span><span class="token number">100</span> <span class="token operator">+</span> i <span class="token operator">*</span> <span class="token number">1150</span><span class="token punctuation">,</span> <span class="token number">100</span> <span class="token operator">+</span> j <span class="token operator">*</span> <span class="token number">1500</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token function">addToParent</span><span class="token punctuation">(</span>world<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// flip the card face-up with 90% probability</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>random<span class="token punctuation">.</span><span class="token function">nextDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0.9</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          card<span class="token punctuation">.</span><span class="token function">flip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token class-name">Sprite</span> <span class="token function">klondikeSprite</span><span class="token punctuation">(</span>double x<span class="token punctuation">,</span> double y<span class="token punctuation">,</span> double width<span class="token punctuation">,</span> double height<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token class-name">Sprite</span><span class="token punctuation">(</span>
    <span class="token class-name">Flame</span><span class="token punctuation">.</span>images<span class="token punctuation">.</span><span class="token function">fromCache</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;klondike-sprites.png&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    srcPosition<span class="token punctuation">:</span> <span class="token class-name">Vector2</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">,</span>
    srcSize<span class="token punctuation">:</span> <span class="token class-name">Vector2</span><span class="token punctuation">(</span>width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><em>main.dart</em></p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;package:flame/game.dart&#39;</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;package:flutter/widgets.dart&#39;</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;klondike_game.dart&#39;</span></span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">final</span> game <span class="token operator">=</span> <span class="token class-name">KlondikeGame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">runApp</span><span class="token punctuation">(</span><span class="token class-name">GameWidget</span><span class="token punctuation">(</span>game<span class="token punctuation">:</span> game<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><em>rank.dart</em></p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;package:flame/components.dart&#39;</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;package:flutter/foundation.dart&#39;</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;klondike_game.dart&#39;</span></span><span class="token punctuation">;</span>

<span class="token metadata function">@immutable</span>
<span class="token keyword">class</span> <span class="token class-name">Rank</span> <span class="token punctuation">{</span>
  <span class="token keyword">factory</span> <span class="token class-name">Rank</span><span class="token punctuation">.</span><span class="token function">fromInt</span><span class="token punctuation">(</span>int value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>value <span class="token operator">&gt;=</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> value <span class="token operator">&lt;=</span> <span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> _singletons<span class="token punctuation">[</span>value <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token class-name">Rank</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>label<span class="token punctuation">,</span>
    double x1<span class="token punctuation">,</span>
    double y1<span class="token punctuation">,</span>
    double x2<span class="token punctuation">,</span>
    double y2<span class="token punctuation">,</span>
    double w<span class="token punctuation">,</span>
    double h<span class="token punctuation">,</span>
  <span class="token punctuation">)</span>   <span class="token punctuation">:</span> redSprite <span class="token operator">=</span> <span class="token function">klondikeSprite</span><span class="token punctuation">(</span>x1<span class="token punctuation">,</span> y1<span class="token punctuation">,</span> w<span class="token punctuation">,</span> h<span class="token punctuation">)</span><span class="token punctuation">,</span>
        blackSprite <span class="token operator">=</span> <span class="token function">klondikeSprite</span><span class="token punctuation">(</span>x2<span class="token punctuation">,</span> y2<span class="token punctuation">,</span> w<span class="token punctuation">,</span> h<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">final</span> int value<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">String</span> label<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">Sprite</span> redSprite<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">Sprite</span> blackSprite<span class="token punctuation">;</span>

  <span class="token keyword">static</span> late <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Rank</span><span class="token punctuation">&gt;</span></span> _singletons <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token class-name">Rank</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;A&#39;</span></span><span class="token punctuation">,</span> <span class="token number">335</span><span class="token punctuation">,</span> <span class="token number">164</span><span class="token punctuation">,</span> <span class="token number">789</span><span class="token punctuation">,</span> <span class="token number">161</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">129</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Rank</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;2&#39;</span></span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">322</span><span class="token punctuation">,</span> <span class="token number">83</span><span class="token punctuation">,</span> <span class="token number">125</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Rank</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;3&#39;</span></span><span class="token punctuation">,</span> <span class="token number">122</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">117</span><span class="token punctuation">,</span> <span class="token number">322</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">127</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Rank</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;4&#39;</span></span><span class="token punctuation">,</span> <span class="token number">213</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">208</span><span class="token punctuation">,</span> <span class="token number">315</span><span class="token punctuation">,</span> <span class="token number">93</span><span class="token punctuation">,</span> <span class="token number">132</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Rank</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;5&#39;</span></span><span class="token punctuation">,</span> <span class="token number">314</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">309</span><span class="token punctuation">,</span> <span class="token number">324</span><span class="token punctuation">,</span> <span class="token number">85</span><span class="token punctuation">,</span> <span class="token number">125</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Rank</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;6&#39;</span></span><span class="token punctuation">,</span> <span class="token number">419</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">414</span><span class="token punctuation">,</span> <span class="token number">320</span><span class="token punctuation">,</span> <span class="token number">84</span><span class="token punctuation">,</span> <span class="token number">129</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Rank</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;7&#39;</span></span><span class="token punctuation">,</span> <span class="token number">509</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">505</span><span class="token punctuation">,</span> <span class="token number">324</span><span class="token punctuation">,</span> <span class="token number">92</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Rank</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;8&#39;</span></span><span class="token punctuation">,</span> <span class="token number">612</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">607</span><span class="token punctuation">,</span> <span class="token number">322</span><span class="token punctuation">,</span> <span class="token number">78</span><span class="token punctuation">,</span> <span class="token number">127</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Rank</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;9&#39;</span></span><span class="token punctuation">,</span> <span class="token number">709</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">704</span><span class="token punctuation">,</span> <span class="token number">322</span><span class="token punctuation">,</span> <span class="token number">84</span><span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Rank</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;10&#39;</span></span><span class="token punctuation">,</span> <span class="token number">810</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">805</span><span class="token punctuation">,</span> <span class="token number">322</span><span class="token punctuation">,</span> <span class="token number">137</span><span class="token punctuation">,</span> <span class="token number">127</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Rank</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;J&#39;</span></span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">170</span><span class="token punctuation">,</span> <span class="token number">469</span><span class="token punctuation">,</span> <span class="token number">167</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> <span class="token number">126</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Rank</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;Q&#39;</span></span><span class="token punctuation">,</span> <span class="token number">92</span><span class="token punctuation">,</span> <span class="token number">168</span><span class="token punctuation">,</span> <span class="token number">547</span><span class="token punctuation">,</span> <span class="token number">165</span><span class="token punctuation">,</span> <span class="token number">132</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Rank</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;K&#39;</span></span><span class="token punctuation">,</span> <span class="token number">243</span><span class="token punctuation">,</span> <span class="token number">170</span><span class="token punctuation">,</span> <span class="token number">696</span><span class="token punctuation">,</span> <span class="token number">167</span><span class="token punctuation">,</span> <span class="token number">92</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><em>suit.dart</em></p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;package:flame/sprite.dart&#39;</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;package:flutter/foundation.dart&#39;</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;klondike_game.dart&#39;</span></span><span class="token punctuation">;</span>

<span class="token metadata function">@immutable</span>
<span class="token keyword">class</span> <span class="token class-name">Suit</span> <span class="token punctuation">{</span>
  <span class="token keyword">factory</span> <span class="token class-name">Suit</span><span class="token punctuation">.</span><span class="token function">fromInt</span><span class="token punctuation">(</span>int index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>index <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> index <span class="token operator">&lt;=</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> _singletons<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token class-name">Suit</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>label<span class="token punctuation">,</span> double x<span class="token punctuation">,</span> double y<span class="token punctuation">,</span> double w<span class="token punctuation">,</span> double h<span class="token punctuation">)</span>
      <span class="token punctuation">:</span> sprite <span class="token operator">=</span> <span class="token function">klondikeSprite</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> w<span class="token punctuation">,</span> h<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">final</span> int value<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">String</span> label<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">Sprite</span> sprite<span class="token punctuation">;</span>

  <span class="token keyword">static</span> late <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Suit</span><span class="token punctuation">&gt;</span></span> _singletons <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token class-name">Suit</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;♥&#39;</span></span><span class="token punctuation">,</span> <span class="token number">1176</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">172</span><span class="token punctuation">,</span> <span class="token number">183</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Suit</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;♦&#39;</span></span><span class="token punctuation">,</span> <span class="token number">973</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">177</span><span class="token punctuation">,</span> <span class="token number">182</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Suit</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;♣&#39;</span></span><span class="token punctuation">,</span> <span class="token number">974</span><span class="token punctuation">,</span> <span class="token number">226</span><span class="token punctuation">,</span> <span class="token number">184</span><span class="token punctuation">,</span> <span class="token number">172</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Suit</span><span class="token punctuation">.</span><span class="token function">_</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;♠&#39;</span></span><span class="token punctuation">,</span> <span class="token number">1178</span><span class="token punctuation">,</span> <span class="token number">220</span><span class="token punctuation">,</span> <span class="token number">176</span><span class="token punctuation">,</span> <span class="token number">182</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token comment">/// Hearts and Diamonds are red, while Clubs and Spades are black.</span>
  bool <span class="token keyword">get</span> isRed <span class="token operator">=</span><span class="token operator">&gt;</span> value <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  bool <span class="token keyword">get</span> isBlack <span class="token operator">=</span><span class="token operator">&gt;</span> value <span class="token operator">&gt;=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/ilgnefz/flame-cn/edit/master/docs/guide/tutorials/klondike/step3.md" rel="noopener noreferrer" target="_blank" aria-label="编辑此页"><!--[--><!--]--> 编辑此页 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">最后更新: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">贡献者: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: ilgnefz@foxmail.com">ilgnefz</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/flame-cn/guide/tutorials/klondike/step2.md" class="" aria-label="2. 脚手架"><!--[--><!--]--> 2. 脚手架 <!--[--><!--]--></a></span><span class="next"><a href="/flame-cn/guide/tutorials/klondike/tbc.md" class="" aria-label="待续..."><!--[--><!--]--> 待续... <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/flame-cn/assets/app.0106d251.js" defer></script>
  </body>
</html>
